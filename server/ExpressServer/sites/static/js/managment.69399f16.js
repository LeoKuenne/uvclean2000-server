(function(e){function t(t){for(var a,n,i=t[0],c=t[1],l=t[2],d=0,m=[];d<i.length;d++)n=i[d],Object.prototype.hasOwnProperty.call(s,n)&&s[n]&&m.push(s[n][0]),s[n]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);u&&u(t);while(m.length)m.shift()();return o.push.apply(o,l||[]),r()}function r(){for(var e,t=0;t<o.length;t++){for(var r=o[t],a=!0,i=1;i<r.length;i++){var c=r[i];0!==s[c]&&(a=!1)}a&&(o.splice(t--,1),e=n(n.s=r[0]))}return e}var a={},s={managment:0},o=[];function n(t){if(a[t])return a[t].exports;var r=a[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=a,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var u=c;o.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("5c71")},"08ec":function(e,t,r){},2068:function(e,t,r){},"33c6":function(e,t,r){"use strict";r("2068")},"3d4d":function(e,t,r){"use strict";r("9170")},"3e19":function(e,t,r){},"3ec2":function(e,t,r){"use strict";r("5aec")},"3f7b":function(e,t,r){},"4a9d":function(e,t,r){},"5aec":function(e,t,r){},"5b8b":function(e,t,r){},"5c71":function(e,t,r){"use strict";r.r(t);r("4de4"),r("c975"),r("a434"),r("b0c0"),r("d3b7"),r("96cf");var a=r("1da1"),s=(r("e260"),r("e6cf"),r("cca6"),r("a79d"),r("2b0e")),o=r("b079"),n=r.n(o),i=r("8e27"),c=r.n(i),l=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"shadow-md text-color background-color h-screen w-screen overflow-hidden text-primary",attrs:{id:"app"}},[r("header",{staticClass:"p-5 w-screen flex-shrink flex flex-row items-center justify-between shadow-md",staticStyle:{"background-image":"linear-gradient(125deg, #00666F 0%, #00666F 40%, #fff calc(40% + 1px), #fff 100%)",height:"80px"}},[r("router-link",{staticClass:"h-full",attrs:{to:{name:"dashboard"}}},[r("svg",{staticClass:"text-white h-full",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 252.7 118.91"}},[r("g",{attrs:{id:"Ebene_2","data-name":"Ebene 2"}},[r("g",{attrs:{id:"Ebene_1-2","data-name":"Ebene 1"}},[r("path",{attrs:{d:"M20.26,104c-.35,0-.52-.18-.52-.54a.46.46,0,0,1,.52-.53h3.13V96a.47.47,0,0,1,.53-.53.46.46,0,0,1,.51.53v6.93h3.13a.54.54,0,0,1,0,1.07H24.43v14.4c0,.36-.17.53-.51.53a.47.47,0,0,1-.53-.53V104Z"}}),r("path",{attrs:{d:"M39.66,107.9a3.79,3.79,0,0,0-1.15-2.77,3.83,3.83,0,0,0-5.47,0,3.85,3.85,0,0,0-1.14,2.72v10.53a.46.46,0,0,1-.51.53.47.47,0,0,1-.53-.53V103.44a.47.47,0,0,1,.53-.53.46.46,0,0,1,.51.53v1.4c.13-.16.27-.31.41-.46a4.83,4.83,0,0,1,6.94,0,4.81,4.81,0,0,1,1.44,3.52v0a.52.52,0,1,1-1,0Z"}}),r("path",{attrs:{d:"M52.45,103.44c0-.35.16-.53.5-.53a.47.47,0,0,1,.53.53v10.48A4.81,4.81,0,0,1,52,117.44a4.83,4.83,0,0,1-6.94,0,4.79,4.79,0,0,1-1.45-3.52V103.44a.47.47,0,0,1,.53-.53c.34,0,.5.18.5.53v10.48a3.84,3.84,0,0,0,1.15,2.79,3.85,3.85,0,0,0,5.47,0,3.84,3.84,0,0,0,1.15-2.79Z"}}),r("path",{attrs:{d:"M61.35,102.91h.38a4.83,4.83,0,0,1,2,.57A5,5,0,0,1,65.5,105a.46.46,0,0,1-.13.72.44.44,0,0,1-.72-.13,4,4,0,0,0-1.39-1.22,3.67,3.67,0,0,0-1.74-.43,3.05,3.05,0,0,0-2.21.93,3.1,3.1,0,0,0-.94,2.27,2.7,2.7,0,0,0,1.23,2.54,6.49,6.49,0,0,0,2.09.67,7.66,7.66,0,0,1,2.73.87,3.69,3.69,0,0,1,1.51,3.38,4.11,4.11,0,0,1-1.24,3,4,4,0,0,1-3,1.25H61.1a4.69,4.69,0,0,1-2.25-.56,5.16,5.16,0,0,1-1.76-1.56.46.46,0,0,1,.12-.72.45.45,0,0,1,.73.12,3.88,3.88,0,0,0,1.39,1.22,3.74,3.74,0,0,0,1.77.44h.63a3,3,0,0,0,2.22-.94,3.09,3.09,0,0,0,1-2.27,2.69,2.69,0,0,0-1.24-2.53,6.19,6.19,0,0,0-2.08-.67,7.32,7.32,0,0,1-2.73-.88,3.65,3.65,0,0,1-1.52-3.38,4.2,4.2,0,0,1,1.24-3,4,4,0,0,1,2.78-1.25"}}),r("path",{attrs:{d:"M67.92,104a.54.54,0,0,1,0-1.07h3.13V96a.47.47,0,0,1,.52-.53.46.46,0,0,1,.51.53v6.93h3.14a.54.54,0,0,1,0,1.07H72.08v14.4c0,.36-.17.53-.51.53a.46.46,0,0,1-.52-.53V104Z"}}),r("path",{attrs:{d:"M79.55,110.11h7.76V107.9a3.78,3.78,0,0,0-1.14-2.77,3.84,3.84,0,0,0-5.48,0,3.78,3.78,0,0,0-1.14,2.77Zm.08,1h-.08v2.77a3.83,3.83,0,0,0,1.14,2.79,3.75,3.75,0,0,0,2.75,1.14,3.71,3.71,0,0,0,2.07-.61,4,4,0,0,0,1.43-1.66.52.52,0,1,1,.94.44,4.9,4.9,0,0,1-1.82,2.11,4.73,4.73,0,0,1-2.62.78A4.66,4.66,0,0,1,80,117.44a4.79,4.79,0,0,1-1.45-3.52v-6A4.8,4.8,0,0,1,80,104.38a4.66,4.66,0,0,1,3.47-1.47,4.7,4.7,0,0,1,3.47,1.47,4.82,4.82,0,0,1,1.43,3.52v2.74a.45.45,0,0,1-.52.51Z"}}),r("path",{staticClass:"cls-1",attrs:{d:"M101.77,107.86a3.86,3.86,0,0,0-1.15-2.73,3.83,3.83,0,0,0-5.47,0A3.78,3.78,0,0,0,94,107.9v6a3.83,3.83,0,0,0,1.14,2.79,3.85,3.85,0,0,0,5.47,0,3.92,3.92,0,0,0,1.15-2.74Zm0-11.88c0-.35.17-.53.5-.53a.47.47,0,0,1,.53.53v22.4a.46.46,0,0,1-.53.53c-.33,0-.5-.17-.5-.53V117a5.74,5.74,0,0,1-.41.45,4.83,4.83,0,0,1-6.94,0A4.82,4.82,0,0,1,93,113.92v-6a4.84,4.84,0,0,1,1.45-3.52,4.83,4.83,0,0,1,6.94,0,5.87,5.87,0,0,1,.41.46Z"}}),r("path",{staticClass:"cls-1",attrs:{d:"M117.63,110.11h7.75V107.9a3.74,3.74,0,0,0-1.14-2.77,3.83,3.83,0,0,0-5.47,0,3.78,3.78,0,0,0-1.14,2.77Zm.07,1h-.07v2.77a3.83,3.83,0,0,0,1.14,2.79,3.84,3.84,0,0,0,4.81.53,3.83,3.83,0,0,0,1.43-1.66.47.47,0,0,1,.7-.26.48.48,0,0,1,.25.7,4.9,4.9,0,0,1-1.82,2.11,4.76,4.76,0,0,1-2.63.78,4.69,4.69,0,0,1-3.47-1.47,4.79,4.79,0,0,1-1.45-3.52v-6a4.8,4.8,0,0,1,1.45-3.52,4.83,4.83,0,0,1,6.94,0,4.83,4.83,0,0,1,1.44,3.52v2.74a.46.46,0,0,1-.52.51Z"}}),r("path",{staticClass:"cls-1",attrs:{d:"M131.82,96a.52.52,0,1,1,1,0v22.4c0,.36-.17.53-.51.53a.46.46,0,0,1-.52-.53Z"}}),r("path",{staticClass:"cls-1",attrs:{d:"M139.29,110.11H147V107.9a3.74,3.74,0,0,0-1.14-2.77,3.83,3.83,0,0,0-5.47,0,3.78,3.78,0,0,0-1.14,2.77Zm.07,1h-.07v2.77a3.83,3.83,0,0,0,1.14,2.79,3.84,3.84,0,0,0,4.81.53,3.83,3.83,0,0,0,1.43-1.66.47.47,0,0,1,.7-.26.48.48,0,0,1,.25.7,4.9,4.9,0,0,1-1.82,2.11,4.76,4.76,0,0,1-2.63.78,4.69,4.69,0,0,1-3.47-1.47,4.79,4.79,0,0,1-1.45-3.52v-6a4.8,4.8,0,0,1,1.45-3.52,4.83,4.83,0,0,1,6.94,0,4.83,4.83,0,0,1,1.44,3.52v2.74a.46.46,0,0,1-.52.51Z"}}),r("path",{staticClass:"cls-1",attrs:{d:"M160.42,118.38c0,.36-.17.53-.51.53a.47.47,0,0,1-.54-.53V106.82a2.76,2.76,0,0,0-.82-2,2.67,2.67,0,0,0-2-.83,2.7,2.7,0,0,0-2,.83,2.77,2.77,0,0,0-.83,2v11.56c0,.36-.17.53-.51.53a.46.46,0,0,1-.52-.53V103.44a.52.52,0,1,1,1,0v.72a3.86,3.86,0,0,1,2.82-1.25,3.67,3.67,0,0,1,2.72,1.16,3.43,3.43,0,0,1,.62.8,4,4,0,0,1,.61-.8,3.67,3.67,0,0,1,2.72-1.16,3.71,3.71,0,0,1,2.73,1.16,3.78,3.78,0,0,1,1.13,2.75v11.56c0,.36-.17.53-.51.53a.47.47,0,0,1-.53-.53V106.82a2.77,2.77,0,0,0-.83-2,2.8,2.8,0,0,0-4,0,2.76,2.76,0,0,0-.82,2Z"}}),r("path",{staticClass:"cls-1",attrs:{d:"M172.75,110.11h7.76V107.9a3.78,3.78,0,0,0-1.14-2.77,3.84,3.84,0,0,0-5.48,0,3.78,3.78,0,0,0-1.14,2.77Zm.07,1h-.07v2.77a3.83,3.83,0,0,0,1.14,2.79,3.84,3.84,0,0,0,4.81.53,3.92,3.92,0,0,0,1.44-1.66.46.46,0,0,1,.69-.26.48.48,0,0,1,.25.7,4.9,4.9,0,0,1-1.82,2.11,4.76,4.76,0,0,1-2.63.78,4.69,4.69,0,0,1-3.47-1.47,4.82,4.82,0,0,1-1.45-3.52v-6a4.84,4.84,0,0,1,1.45-3.52,4.84,4.84,0,0,1,7,0,4.86,4.86,0,0,1,1.43,3.52v2.74a.45.45,0,0,1-.52.51Z"}}),r("path",{staticClass:"cls-1",attrs:{d:"M195,107.9a3.78,3.78,0,0,0-1.14-2.77,3.7,3.7,0,0,0-2.73-1.15,3.74,3.74,0,0,0-2.75,1.15,3.85,3.85,0,0,0-1.14,2.72v10.53a.52.52,0,1,1-1,0V103.44a.52.52,0,1,1,1,0v1.4c.14-.16.27-.31.42-.46a4.83,4.83,0,0,1,6.94,0A4.81,4.81,0,0,1,196,107.9v10.48a.46.46,0,0,1-.51.53.47.47,0,0,1-.53-.53Z"}}),r("path",{staticClass:"cls-1",attrs:{d:"M199.3,104a.54.54,0,0,1,0-1.07h3.13V96a.52.52,0,1,1,1,0v6.93h3.14a.54.54,0,0,1,0,1.07h-3.14v14.4c0,.36-.17.53-.51.53a.46.46,0,0,1-.52-.53V104Z"}}),r("path",{staticClass:"cls-1",attrs:{d:"M213.14,102.91h.38a4.83,4.83,0,0,1,2,.57,5,5,0,0,1,1.76,1.56.46.46,0,0,1-.13.72.44.44,0,0,1-.72-.13,4,4,0,0,0-1.39-1.22,3.68,3.68,0,0,0-1.75-.43,3,3,0,0,0-2.2.93,3.1,3.1,0,0,0-.94,2.27,2.7,2.7,0,0,0,1.23,2.54,6.49,6.49,0,0,0,2.09.67,7.66,7.66,0,0,1,2.73.87,3.69,3.69,0,0,1,1.51,3.38,4.11,4.11,0,0,1-1.24,3,4,4,0,0,1-3,1.25h-.63a4.69,4.69,0,0,1-2.25-.56,5.16,5.16,0,0,1-1.76-1.56.52.52,0,0,1,.85-.6,3.93,3.93,0,0,0,1.38,1.22,3.81,3.81,0,0,0,1.78.44h.63a3,3,0,0,0,2.22-.94,3.08,3.08,0,0,0,.94-2.27,2.68,2.68,0,0,0-1.23-2.53,6.19,6.19,0,0,0-2.08-.67,7.32,7.32,0,0,1-2.73-.88,3.65,3.65,0,0,1-1.52-3.38,4.2,4.2,0,0,1,1.24-3,4,4,0,0,1,2.78-1.25"}}),r("polygon",{staticClass:"cls-1",attrs:{points:"29.18 16.42 19.71 16.42 0 16.42 0 26.39 19.71 26.39 19.71 82.38 29.18 82.38 29.18 26.39 48.84 26.39 48.84 16.42 29.18 16.42"}}),r("polygon",{staticClass:"cls-1",attrs:{points:"105.38 26.56 105.38 16.42 75.22 16.42 65.76 16.42 65.76 26.56 65.76 44.33 65.76 54.47 65.76 72.24 65.76 82.38 75.22 82.38 105.38 82.38 105.38 72.24 75.22 72.24 75.22 54.47 104.72 54.47 104.72 44.33 75.22 44.33 75.22 26.56 105.38 26.56"}}),r("polygon",{staticClass:"cls-1",attrs:{points:"211.41 26.81 224.28 49.4 211.41 72 185.68 72 172.82 49.4 180.63 35.69 168.8 35.69 160.99 49.4 179.77 82.38 217.33 82.38 236.11 49.4 217.33 16.42 201.58 16.42 195.67 26.81 211.41 26.81"}}),r("polygon",{staticClass:"cls-1",attrs:{points:"153.4 72 140.53 49.4 153.4 26.81 179.13 26.81 192 49.4 184.19 63.12 196.01 63.12 203.83 49.4 185.04 16.42 147.49 16.42 128.71 49.4 147.49 82.38 163.23 82.38 169.15 72 153.4 72"}}),r("path",{staticClass:"cls-1",attrs:{d:"M242.7,4.61h2c1,0,2.12.2,2.12,1.47,0,1.52-1.21,1.58-2.54,1.58H242.7ZM241.21,13h1.49V8.87h1.59L246.92,13h1.61l-2.76-4.24a2.48,2.48,0,0,0,2.54-2.61c0-1.85-1.08-2.75-3.38-2.75h-3.72Zm-3.6-4.83a6.8,6.8,0,1,1,13.59,0,6.8,6.8,0,1,1-13.59,0m-1.5,0A8.3,8.3,0,1,0,244.43,0a8.22,8.22,0,0,0-8.32,8.17"}})])])])]),r("div",{staticClass:"relative flex items-center"},[r("div",{staticClass:"hidden md:flex text-color px-5 text-base align-baseline"},[r("dropdown-menu",{staticClass:"text-primary z-10",attrs:{showIcon:!1,menuItems:[{text:"Devices",disabled:!1},{text:"Groups",disabled:!1}]},on:{itemClicked:function(t){return e.menuItemClicked(t)}}},[e._v(" Dashboard ")])],1),r("div",{staticClass:"hidden md:flex text-color px-5 text-base align-baseline"},[r("dropdown-menu",{staticClass:"text-primary z-10",attrs:{showIcon:!1,menuItems:[{text:"Device",disabled:!1},{text:"Group",disabled:!1}]},on:{itemClicked:function(t){return e.menuItemClicked(t)}}},[e._v(" Charts ")])],1),r("router-link",{staticClass:"hidden md:flex text-color px-5 text-base align-baseline",attrs:{to:{name:"settings"}}},[e._v(" Settings ")]),r("button",{staticClass:"flex items-center space-x-1",on:{click:e.logout}},[r("span",[e._v(e._s(e.$dataStore.user.username))]),r("svg",{staticClass:"h-5 w-5",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 16 16"}},[r("path",{attrs:{d:"M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"}}),r("path",{attrs:{"fill-rule":"evenodd",d:"M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8zm8-7a7 7 0 0 0-5.468\n            11.37C3.242 11.226 4.805 10 8 10s4.757 1.225 5.468 2.37A7 7 0 0 0 8 1z"}})])]),r("button",{staticClass:"flex p-2 z-20 md:hidden",on:{click:function(t){e.showBurgerMenu=!e.showBurgerMenu}}},[r("svg",{staticClass:"w-6 h-6",class:[e.showBurgerMenu?"hidden":"flex"],attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 16 16"}},[r("path",{attrs:{"fill-rule":"evenodd",d:"M2.5 11.5A.5.5 0 0 1 3 11h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4A.5.5 0 0 1 3\n              7h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4A.5.5 0 0 1 3 3h10a.5.5 0 0 1 0\n              1H3a.5.5 0 0 1-.5-.5z"}})]),r("svg",{staticClass:"w-6 h-6",class:[e.showBurgerMenu?"flex":"hidden"],attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 16 16"}},[r("path",{attrs:{d:"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1\n            .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646\n            2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"}})])])],1)],1),r("transition",{attrs:{name:"slideTop"}},[r("div",{directives:[{name:"show",rawName:"v-show",value:e.showBurgerMenu,expression:"showBurgerMenu"}],staticClass:"w-screen h-screen fixed z-10 top-0 left-0 p-5 bg-white flex flex-col\n      items-center transform"},[r("svg",{staticClass:"text-secondary h-20 w-full",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 252.7 118.91"}},[r("g",{attrs:{id:"Ebene_2","data-name":"Ebene 2"}},[r("g",{attrs:{id:"Ebene_1-2","data-name":"Ebene 1"}},[r("path",{attrs:{d:"M20.26,104c-.35,0-.52-.18-.52-.54a.46.46,0,0,1,.52-.53h3.13V96a.47.47,0,0,1,.53-.53.46.46,0,0,1,.51.53v6.93h3.13a.54.54,0,0,1,0,1.07H24.43v14.4c0,.36-.17.53-.51.53a.47.47,0,0,1-.53-.53V104Z"}}),r("path",{attrs:{d:"M39.66,107.9a3.79,3.79,0,0,0-1.15-2.77,3.83,3.83,0,0,0-5.47,0,3.85,3.85,0,0,0-1.14,2.72v10.53a.46.46,0,0,1-.51.53.47.47,0,0,1-.53-.53V103.44a.47.47,0,0,1,.53-.53.46.46,0,0,1,.51.53v1.4c.13-.16.27-.31.41-.46a4.83,4.83,0,0,1,6.94,0,4.81,4.81,0,0,1,1.44,3.52v0a.52.52,0,1,1-1,0Z"}}),r("path",{attrs:{d:"M52.45,103.44c0-.35.16-.53.5-.53a.47.47,0,0,1,.53.53v10.48A4.81,4.81,0,0,1,52,117.44a4.83,4.83,0,0,1-6.94,0,4.79,4.79,0,0,1-1.45-3.52V103.44a.47.47,0,0,1,.53-.53c.34,0,.5.18.5.53v10.48a3.84,3.84,0,0,0,1.15,2.79,3.85,3.85,0,0,0,5.47,0,3.84,3.84,0,0,0,1.15-2.79Z"}}),r("path",{attrs:{d:"M61.35,102.91h.38a4.83,4.83,0,0,1,2,.57A5,5,0,0,1,65.5,105a.46.46,0,0,1-.13.72.44.44,0,0,1-.72-.13,4,4,0,0,0-1.39-1.22,3.67,3.67,0,0,0-1.74-.43,3.05,3.05,0,0,0-2.21.93,3.1,3.1,0,0,0-.94,2.27,2.7,2.7,0,0,0,1.23,2.54,6.49,6.49,0,0,0,2.09.67,7.66,7.66,0,0,1,2.73.87,3.69,3.69,0,0,1,1.51,3.38,4.11,4.11,0,0,1-1.24,3,4,4,0,0,1-3,1.25H61.1a4.69,4.69,0,0,1-2.25-.56,5.16,5.16,0,0,1-1.76-1.56.46.46,0,0,1,.12-.72.45.45,0,0,1,.73.12,3.88,3.88,0,0,0,1.39,1.22,3.74,3.74,0,0,0,1.77.44h.63a3,3,0,0,0,2.22-.94,3.09,3.09,0,0,0,1-2.27,2.69,2.69,0,0,0-1.24-2.53,6.19,6.19,0,0,0-2.08-.67,7.32,7.32,0,0,1-2.73-.88,3.65,3.65,0,0,1-1.52-3.38,4.2,4.2,0,0,1,1.24-3,4,4,0,0,1,2.78-1.25"}}),r("path",{attrs:{d:"M67.92,104a.54.54,0,0,1,0-1.07h3.13V96a.47.47,0,0,1,.52-.53.46.46,0,0,1,.51.53v6.93h3.14a.54.54,0,0,1,0,1.07H72.08v14.4c0,.36-.17.53-.51.53a.46.46,0,0,1-.52-.53V104Z"}}),r("path",{attrs:{d:"M79.55,110.11h7.76V107.9a3.78,3.78,0,0,0-1.14-2.77,3.84,3.84,0,0,0-5.48,0,3.78,3.78,0,0,0-1.14,2.77Zm.08,1h-.08v2.77a3.83,3.83,0,0,0,1.14,2.79,3.75,3.75,0,0,0,2.75,1.14,3.71,3.71,0,0,0,2.07-.61,4,4,0,0,0,1.43-1.66.52.52,0,1,1,.94.44,4.9,4.9,0,0,1-1.82,2.11,4.73,4.73,0,0,1-2.62.78A4.66,4.66,0,0,1,80,117.44a4.79,4.79,0,0,1-1.45-3.52v-6A4.8,4.8,0,0,1,80,104.38a4.66,4.66,0,0,1,3.47-1.47,4.7,4.7,0,0,1,3.47,1.47,4.82,4.82,0,0,1,1.43,3.52v2.74a.45.45,0,0,1-.52.51Z"}}),r("path",{staticClass:"cls-1",attrs:{d:"M101.77,107.86a3.86,3.86,0,0,0-1.15-2.73,3.83,3.83,0,0,0-5.47,0A3.78,3.78,0,0,0,94,107.9v6a3.83,3.83,0,0,0,1.14,2.79,3.85,3.85,0,0,0,5.47,0,3.92,3.92,0,0,0,1.15-2.74Zm0-11.88c0-.35.17-.53.5-.53a.47.47,0,0,1,.53.53v22.4a.46.46,0,0,1-.53.53c-.33,0-.5-.17-.5-.53V117a5.74,5.74,0,0,1-.41.45,4.83,4.83,0,0,1-6.94,0A4.82,4.82,0,0,1,93,113.92v-6a4.84,4.84,0,0,1,1.45-3.52,4.83,4.83,0,0,1,6.94,0,5.87,5.87,0,0,1,.41.46Z"}}),r("path",{staticClass:"cls-1",attrs:{d:"M117.63,110.11h7.75V107.9a3.74,3.74,0,0,0-1.14-2.77,3.83,3.83,0,0,0-5.47,0,3.78,3.78,0,0,0-1.14,2.77Zm.07,1h-.07v2.77a3.83,3.83,0,0,0,1.14,2.79,3.84,3.84,0,0,0,4.81.53,3.83,3.83,0,0,0,1.43-1.66.47.47,0,0,1,.7-.26.48.48,0,0,1,.25.7,4.9,4.9,0,0,1-1.82,2.11,4.76,4.76,0,0,1-2.63.78,4.69,4.69,0,0,1-3.47-1.47,4.79,4.79,0,0,1-1.45-3.52v-6a4.8,4.8,0,0,1,1.45-3.52,4.83,4.83,0,0,1,6.94,0,4.83,4.83,0,0,1,1.44,3.52v2.74a.46.46,0,0,1-.52.51Z"}}),r("path",{staticClass:"cls-1",attrs:{d:"M131.82,96a.52.52,0,1,1,1,0v22.4c0,.36-.17.53-.51.53a.46.46,0,0,1-.52-.53Z"}}),r("path",{staticClass:"cls-1",attrs:{d:"M139.29,110.11H147V107.9a3.74,3.74,0,0,0-1.14-2.77,3.83,3.83,0,0,0-5.47,0,3.78,3.78,0,0,0-1.14,2.77Zm.07,1h-.07v2.77a3.83,3.83,0,0,0,1.14,2.79,3.84,3.84,0,0,0,4.81.53,3.83,3.83,0,0,0,1.43-1.66.47.47,0,0,1,.7-.26.48.48,0,0,1,.25.7,4.9,4.9,0,0,1-1.82,2.11,4.76,4.76,0,0,1-2.63.78,4.69,4.69,0,0,1-3.47-1.47,4.79,4.79,0,0,1-1.45-3.52v-6a4.8,4.8,0,0,1,1.45-3.52,4.83,4.83,0,0,1,6.94,0,4.83,4.83,0,0,1,1.44,3.52v2.74a.46.46,0,0,1-.52.51Z"}}),r("path",{staticClass:"cls-1",attrs:{d:"M160.42,118.38c0,.36-.17.53-.51.53a.47.47,0,0,1-.54-.53V106.82a2.76,2.76,0,0,0-.82-2,2.67,2.67,0,0,0-2-.83,2.7,2.7,0,0,0-2,.83,2.77,2.77,0,0,0-.83,2v11.56c0,.36-.17.53-.51.53a.46.46,0,0,1-.52-.53V103.44a.52.52,0,1,1,1,0v.72a3.86,3.86,0,0,1,2.82-1.25,3.67,3.67,0,0,1,2.72,1.16,3.43,3.43,0,0,1,.62.8,4,4,0,0,1,.61-.8,3.67,3.67,0,0,1,2.72-1.16,3.71,3.71,0,0,1,2.73,1.16,3.78,3.78,0,0,1,1.13,2.75v11.56c0,.36-.17.53-.51.53a.47.47,0,0,1-.53-.53V106.82a2.77,2.77,0,0,0-.83-2,2.8,2.8,0,0,0-4,0,2.76,2.76,0,0,0-.82,2Z"}}),r("path",{staticClass:"cls-1",attrs:{d:"M172.75,110.11h7.76V107.9a3.78,3.78,0,0,0-1.14-2.77,3.84,3.84,0,0,0-5.48,0,3.78,3.78,0,0,0-1.14,2.77Zm.07,1h-.07v2.77a3.83,3.83,0,0,0,1.14,2.79,3.84,3.84,0,0,0,4.81.53,3.92,3.92,0,0,0,1.44-1.66.46.46,0,0,1,.69-.26.48.48,0,0,1,.25.7,4.9,4.9,0,0,1-1.82,2.11,4.76,4.76,0,0,1-2.63.78,4.69,4.69,0,0,1-3.47-1.47,4.82,4.82,0,0,1-1.45-3.52v-6a4.84,4.84,0,0,1,1.45-3.52,4.84,4.84,0,0,1,7,0,4.86,4.86,0,0,1,1.43,3.52v2.74a.45.45,0,0,1-.52.51Z"}}),r("path",{staticClass:"cls-1",attrs:{d:"M195,107.9a3.78,3.78,0,0,0-1.14-2.77,3.7,3.7,0,0,0-2.73-1.15,3.74,3.74,0,0,0-2.75,1.15,3.85,3.85,0,0,0-1.14,2.72v10.53a.52.52,0,1,1-1,0V103.44a.52.52,0,1,1,1,0v1.4c.14-.16.27-.31.42-.46a4.83,4.83,0,0,1,6.94,0A4.81,4.81,0,0,1,196,107.9v10.48a.46.46,0,0,1-.51.53.47.47,0,0,1-.53-.53Z"}}),r("path",{staticClass:"cls-1",attrs:{d:"M199.3,104a.54.54,0,0,1,0-1.07h3.13V96a.52.52,0,1,1,1,0v6.93h3.14a.54.54,0,0,1,0,1.07h-3.14v14.4c0,.36-.17.53-.51.53a.46.46,0,0,1-.52-.53V104Z"}}),r("path",{staticClass:"cls-1",attrs:{d:"M213.14,102.91h.38a4.83,4.83,0,0,1,2,.57,5,5,0,0,1,1.76,1.56.46.46,0,0,1-.13.72.44.44,0,0,1-.72-.13,4,4,0,0,0-1.39-1.22,3.68,3.68,0,0,0-1.75-.43,3,3,0,0,0-2.2.93,3.1,3.1,0,0,0-.94,2.27,2.7,2.7,0,0,0,1.23,2.54,6.49,6.49,0,0,0,2.09.67,7.66,7.66,0,0,1,2.73.87,3.69,3.69,0,0,1,1.51,3.38,4.11,4.11,0,0,1-1.24,3,4,4,0,0,1-3,1.25h-.63a4.69,4.69,0,0,1-2.25-.56,5.16,5.16,0,0,1-1.76-1.56.52.52,0,0,1,.85-.6,3.93,3.93,0,0,0,1.38,1.22,3.81,3.81,0,0,0,1.78.44h.63a3,3,0,0,0,2.22-.94,3.08,3.08,0,0,0,.94-2.27,2.68,2.68,0,0,0-1.23-2.53,6.19,6.19,0,0,0-2.08-.67,7.32,7.32,0,0,1-2.73-.88,3.65,3.65,0,0,1-1.52-3.38,4.2,4.2,0,0,1,1.24-3,4,4,0,0,1,2.78-1.25"}}),r("polygon",{staticClass:"cls-1",attrs:{points:"29.18 16.42 19.71 16.42 0 16.42 0 26.39 19.71 26.39 19.71 82.38 29.18 82.38 29.18 26.39 48.84 26.39 48.84 16.42 29.18 16.42"}}),r("polygon",{staticClass:"cls-1",attrs:{points:"105.38 26.56 105.38 16.42 75.22 16.42 65.76 16.42 65.76 26.56 65.76 44.33 65.76 54.47 65.76 72.24 65.76 82.38 75.22 82.38 105.38 82.38 105.38 72.24 75.22 72.24 75.22 54.47 104.72 54.47 104.72 44.33 75.22 44.33 75.22 26.56 105.38 26.56"}}),r("polygon",{staticClass:"cls-1",attrs:{points:"211.41 26.81 224.28 49.4 211.41 72 185.68 72 172.82 49.4 180.63 35.69 168.8 35.69 160.99 49.4 179.77 82.38 217.33 82.38 236.11 49.4 217.33 16.42 201.58 16.42 195.67 26.81 211.41 26.81"}}),r("polygon",{staticClass:"cls-1",attrs:{points:"153.4 72 140.53 49.4 153.4 26.81 179.13 26.81 192 49.4 184.19 63.12 196.01 63.12 203.83 49.4 185.04 16.42 147.49 16.42 128.71 49.4 147.49 82.38 163.23 82.38 169.15 72 153.4 72"}}),r("path",{staticClass:"cls-1",attrs:{d:"M242.7,4.61h2c1,0,2.12.2,2.12,1.47,0,1.52-1.21,1.58-2.54,1.58H242.7ZM241.21,13h1.49V8.87h1.59L246.92,13h1.61l-2.76-4.24a2.48,2.48,0,0,0,2.54-2.61c0-1.85-1.08-2.75-3.38-2.75h-3.72Zm-3.6-4.83a6.8,6.8,0,1,1,13.59,0,6.8,6.8,0,1,1-13.59,0m-1.5,0A8.3,8.3,0,1,0,244.43,0a8.22,8.22,0,0,0-8.32,8.17"}})])])]),r("div",{staticClass:"h-full w-full flex flex-col justify-center space-y-12"},[r("div",{staticClass:"flex flex-col items-center"},[r("h1",{staticClass:"w-full text-center mb-4 p-2 text-2xl border-b border-gray-300"},[e._v(" Dashboard ")]),r("button",{staticClass:"text-xl",on:{click:function(t){e.menuItemClicked("Devices"),e.showBurgerMenu=!1}}},[e._v("Devices")]),r("button",{staticClass:"text-xl",on:{click:function(t){e.menuItemClicked("Groups"),e.showBurgerMenu=!1}}},[e._v("Groups")])]),r("div",{staticClass:"flex flex-col items-center"},[r("h1",{staticClass:"w-full text-center mb-4 p-2 text-2xl border-b border-gray-300"},[e._v(" Charts ")]),r("button",{staticClass:"text-xl",on:{click:function(t){e.menuItemClicked("Device"),e.showBurgerMenu=!1}}},[e._v("Device")]),r("button",{staticClass:"text-xl",on:{click:function(t){e.menuItemClicked("Group"),e.showBurgerMenu=!1}}},[e._v("Group")])]),r("button",{staticClass:"w-full text-center mb-4 p-2 text-2xl border-b border-gray-300"},[e._v(" Settings ")])])])]),r("transition",{attrs:{name:"fade",mode:"out-in"}},[r("router-view",{staticStyle:{height:"90%"}})],1)],1)},u=[],d=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.dropdownOutsideClicked,expression:"dropdownOutsideClicked"}],staticClass:"relative"},[r("button",{staticClass:"w-full h-full hover:transform hover:scale-105 transition-all",on:{click:e.dropdownMenuClicked}},[r("svg",{directives:[{name:"show",rawName:"v-show",value:e.showIcon&&!e.showDropdown,expression:"showIcon && !showDropdown"}],staticClass:"w-6 h-6 text-white",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 16 16"}},[r("path",{attrs:{d:"M9.5 13a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3\n      0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"}})]),r("svg",{directives:[{name:"show",rawName:"v-show",value:e.showIcon&&e.showDropdown,expression:"showIcon && showDropdown"}],staticClass:"w-6 h-6 text-white",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 16 16"}},[r("path",{attrs:{d:"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1\n        .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646\n        2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"}})]),e._t("default")],2),r("div",{staticClass:"relative",on:{click:function(e){e.stopPropagation()}}},[r("transition",{attrs:{name:"slide"}},[e.showDropdown?r("div",{staticClass:"absolute right-0 bg-white rounded overflow-hidden shadow\n          whitespace-nowrap text-right min-w-min"},e._l(e.activeMenuItems,(function(t){return r("button",{key:t.text,staticClass:"hover:bg-gray-200 w-full p-2 block text-right",on:{click:function(r){e.$emit("itemClicked",t.text),e.showDropdown=!1}}},[e._v(" "+e._s(t.text)+" ")])})),0):e._e()])],1)])},m=[],h={name:"DropdownMenu",props:["menuItems","showIcon"],methods:{dropdownMenuClicked:function(){this.showDropdown=!this.showDropdown},dropdownOutsideClicked:function(){this.showDropdown=!1}},data:function(){return{showDropdown:!1}},computed:{activeMenuItems:function(){return this.menuItems.filter((function(e){return!1===e.disabled}))}}};s["a"].directive("click-outside",{bind:function(e,t,r){e.clickOutsideEvent=function(a){e===a.target||e.contains(a.target)||r.context[t.expression](a)},document.body.addEventListener("click",e.clickOutsideEvent)},unbind:function(e){document.body.removeEventListener("click",e.clickOutsideEvent)}});var p,v,f=h,w=(r("d270"),r("2877")),g=Object(w["a"])(f,d,m,!1,null,null,null),b=g.exports,x={components:{DropdownMenu:b},name:"App",computed:{currentViewComponent:function(){return this.currentView},deviceList:function(){return console.log("DeviceList getter/setter"),this.$root.$data.dataStore}},methods:{logout:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch("/logout").then((function(t){if(404===t.status)throw new Error("No data avalaible");return e.errorMessage="",t.json()})).then((function(e){window.location.href=e.url})).catch((function(e){console.error(e)}));case 2:case"end":return t.stop()}}),t)})))()},menuItemClicked:function(e){switch(e){case"Device":this.$router.push({name:"DeviceChart"});break;case"Group":this.$router.push({name:"GroupChart"});break;case"Devices":this.$router.push({name:"devices"});break;case"Groups":this.$router.push({name:"groups"});break;default:break}}},created:function(){},data:function(){return{currentView:"UVCDeviceList",showBurgerMenu:!1}}},C=x,_=(r("eb11"),Object(w["a"])(C,l,u,!1,null,null,null)),k=_.exports,y=r("8c4f"),S=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"flex flex-col md:flex-row text-color"},[r("Sidebar",{staticClass:"flex mx-2 mt-2 p-5 border border-gray-500 rounded justify-around\n      md:space-y-2 md:flex-col md:w-min md:min-w-min md:justify-start md:max-h-full md:m-5",on:{showDevices:e.showDevices,showGroups:e.showGroups}}),r("transition",{attrs:{name:"fade",mode:"out-in"}},[r("router-view",{staticClass:"w-full px-5 h-full",on:{groupAdd:function(t){return e.groupAdd(t)},groupUpdate:function(t){return e.groupChangeState(t)},groupDelete:function(t){return e.groupDelete(t)}}})],1)],1)},D=[],M=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"whitespace-nowrap",attrs:{id:"sidebar"}},[r("h1",{staticClass:"hidden md:flex text-xl text-secondary font-bold"},[e._v("Overview")]),r("div",{staticClass:"md:w-full p-2 text-left text-primary\n    hover:text-gray-600 hover:transform hover:scale-105 hover:font-bold\n    transition-all inline-flex items-center",class:["/dashboard/devices"===this.$route.path?"text-gray-600 transform scale-105 font-bold border-l-4 border-secondary":""],on:{click:function(t){return e.$emit("showDevices")}}},[r("svg",{staticClass:"w-5 h-5 mr-2",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 16 16"}},[r("path",{attrs:{d:"M11 2a3 3 0 0 1 3 3v6a3 3 0 0 1-3 3H5a3 3 0 0 1-3-3V5a3 3 0 0 1 3-3h6zM5 1a4 4 0\n        0 0-4 4v6a4 4 0 0 0 4 4h6a4 4 0 0 0 4-4V5a4 4 0 0 0-4-4H5z"}})]),e._v(" Show Devices ")]),r("div",{staticClass:"md:w-full p-2 text-left text-primary\n      hover:text-gray-600 hover:transform hover:scale-105 hover:font-bold\n      transition-all inline-flex items-center",class:["/dashboard/groups"===this.$route.path?"text-gray-600 transform scale-105 font-bold border-l-4 border-secondary":""],on:{click:function(t){return e.$emit("showGroups")}}},[r("svg",{staticClass:"w-5 h-5 mr-2",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 16 16"}},[r("path",{attrs:{d:"M2.5 3.5a.5.5 0 0 1 0-1h11a.5.5 0 0 1 0 1h-11zm2-2a.5.5 0 0 1 0-1h7a.5.5 0 0 1 0\n        1h-7zM0 13a1.5 1.5 0 0 0 1.5 1.5h13A1.5 1.5 0 0 0 16 13V6a1.5 1.5 0 0 0-1.5-1.5h-13A1.5\n        1.5 0 0 0 0 6v7zm1.5.5A.5.5 0 0 1 1 13V6a.5.5 0 0 1 .5-.5h13a.5.5 0 0 1 .5.5v7a.5.5 0 0\n        1-.5.5h-13z"}})]),e._v(" Show Groups ")])])},A=[],$={data:function(){return{device:{name:"",serialnumber:""}}},methods:{showAddForm:function(){this.prop_showAddForm=!0},addDevice:function(e){this.$emit("deviceAdd",e),this.prop_showAddForm=!1}}},U=$,F=Object(w["a"])(U,M,A,!1,null,null,null),E=F.exports,P={name:"Dashboard",components:{Sidebar:E},computed:{currentViewComponent:function(){return this.currentView}},methods:{showDevices:function(){this.$router.push({name:"devices"})},showGroups:function(){this.$router.push({name:"groups"})}},created:function(){},data:function(){return{prop_showAddForm:!1}}},V=P,O=(r("793c"),Object(w["a"])(V,S,D,!1,null,null,null)),j=O.exports,z=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("router-view",{staticClass:"w-full h-full"})],1)},R=[],L={name:"Chart"},B=L,G=(r("7eec"),Object(w["a"])(B,z,R,!1,null,null,null)),T=G.exports,I=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"flex flex-col md:flex-row text-color"},[r("div",{staticClass:"flex mx-2 mt-2 p-5 border border-gray-500 rounded justify-around\n      md:space-y-2 md:flex-col md:w-min md:min-w-min md:justify-start md:max-h-full md:m-5\n      whitespace-nowrap"},[r("div",{staticClass:"flex md:flex-col space-x-2 md:space-x-0 md:space-y-2"},[r("h1",{staticClass:"hidden md:flex text-xl text-secondary font-bold"},[e._v("Overview")]),r("router-link",{staticClass:"md:w-full p-2 text-left text-primary\n          hover:text-gray-600 hover:transform hover:scale-105 hover:font-bold\n          transition-all inline-flex items-cente",class:["/settings/user"===this.$route.path?"text-gray-600 transform scale-105 font-bold border-l-4 border-secondary":""],attrs:{to:{name:"settingsUser"}},on:{click:function(t){return e.$emit("showUser")}}},[r("svg",{staticClass:"w-5 h-5 mr-2",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 16 16"}},[r("path",{attrs:{d:"M7 14s-1 0-1-1 1-4 5-4 5 3 5 4-1 1-1 1H7zm4-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"}}),r("path",{attrs:{"fill-rule":"evenodd",d:"M5.216 14A2.238 2.238 0 0 1 5 13c0-1.355.68-2.75\n            1.936-3.72A6.325 6.325 0 0 0 5 9c-4 0-5 3-5 4s1 1 1 1h4.216z"}}),r("path",{attrs:{d:"M4.5 8a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5z"}})]),e._v(" User ")]),r("router-link",{staticClass:"md:w-full p-2 text-left text-primary\n          hover:text-gray-600 hover:transform hover:scale-105 hover:font-bold\n          transition-all inline-flex items-cente",class:["/settings/general"===this.$route.path?"text-gray-600 transform scale-105 font-bold border-l-4 border-secondary":""],attrs:{to:{name:"settingsGeneral"}},on:{click:function(t){return e.$emit("showUser")}}},[r("svg",{staticClass:"w-5 h-5 mr-2",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 16 16"}},[r("path",{attrs:{d:"M7 14s-1 0-1-1 1-4 5-4 5 3 5 4-1 1-1 1H7zm4-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"}}),r("path",{attrs:{"fill-rule":"evenodd",d:"M5.216 14A2.238 2.238 0 0 1 5 13c0-1.355.68-2.75\n            1.936-3.72A6.325 6.325 0 0 0 5 9c-4 0-5 3-5 4s1 1 1 1h4.216z"}}),r("path",{attrs:{d:"M4.5 8a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5z"}})]),e._v(" Default Values ")])],1)]),r("transition",{attrs:{name:"fade",mode:"out-in"}},[r("router-view",{staticClass:"w-full h-full p-4 md:p-10"})],1)],1)},N=[],Z={name:"Settings",components:{},data:function(){return{prop_showAddForm:!1}}},W=Z,H=(r("a604"),Object(w["a"])(W,I,N,!1,null,null,null)),q=H.exports,J=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"relativ"},[r("div",{staticClass:"absolute right-0 space-x-2 flex m-2"},[r("div",[r("button",{directives:[{name:"show",rawName:"v-show",value:e.showToggleAllCharts,expression:"showToggleAllCharts"}],staticClass:"p-2 bg-white shadow",on:{click:e.toggleAllCharts}},[e._v(" "+e._s(e.toggleCharts)+" ")])]),r("button",{staticClass:"bg-primary p-2 text-white shadow",on:{click:function(t){e.showSettingPanelAndFetchData(),e.loaded=!0}}},[r("svg",{staticClass:"h-5 w-5",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 16 16"}},[r("path",{attrs:{"fill-rule":"evenodd",d:"M11.5 2a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3zM9.05 3a2.5 2.5 0 0 1 4.9\n          0H16v1h-2.05a2.5 2.5 0 0 1-4.9 0H0V3h9.05zM4.5 7a1.5 1.5 0 1 0 0 3 1.5 1.5\n          0 0 0 0-3zM2.05 8a2.5 2.5 0 0 1 4.9 0H16v1H6.95a2.5 2.5 0 0 1-4.9\n          0H0V8h2.05zm9.45 4a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3zm-2.45 1a2.5 2.5 0 0\n          1 4.9 0H16v1h-2.05a2.5 2.5 0 0 1-4.9 0H0v-1h9.05z"}})])])]),e.showSettingPanel?r("div",{staticClass:"fixed top-0 left-0 h-screen w-screen\n    bg-black bg-opacity-50 flex justify-center items-center"},[r("div",{staticClass:"absolute flex flex-col p-5 bg-secondary space-y-5"},[r("div",{staticClass:"flex justify-between items-center"},[r("h1",{staticClass:"font-bold text-xl"},[e._v("Datavisualization")]),r("button",{staticClass:"bg-transparent hover:bg-transparent p-0 m-0",on:{click:function(t){e.showSettingPanel=!1}}},[r("svg",{staticClass:"w-6 h-6 text-black",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 16 16"}},[r("path",{attrs:{d:"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1\n              .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646\n              2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"}})])])]),r("span",{staticClass:"text-red-500 font-bold",class:[""!==e.errorMessage?"visible":"hidden"]},[e._v(e._s(e.errorMessage))]),r("div",{staticClass:"w-full"},[r("label",{attrs:{for:"device"}},[e._v("Choose the device:")]),r("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedDevice,expression:"selectedDevice"}],staticClass:"text-black w-full p-2 rounded border border-primary",attrs:{name:"device",id:"device"},on:{change:[function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.selectedDevice=t.target.multiple?r:r[0]},function(t){e.showPropertie=!0}]}},e._l(e.devices,(function(t){return r("option",{key:t.serialnumber,domProps:{value:t}},[e._v(" "+e._s(t.name)+" ")])})),0)]),r("div",{class:[e.showPropertie||void 0!==e.selectedDevice?"visible":"invisible"]},[r("label",{attrs:{for:"propertie"}},[e._v("Choose the propertie:")]),r("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedPropertie,expression:"selectedPropertie"}],staticClass:"text-black w-full p-2 rounded border border-primary",attrs:{name:"propertie",id:"propertie"},on:{change:[function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.selectedPropertie=t.target.multiple?r:r[0]},e.getDateDuration]}},[r("option",{attrs:{value:"airVolume"}},[e._v("Air Volume")]),r("option",{attrs:{value:"tacho"}},[e._v("Tachos")]),r("option",{attrs:{value:"co2"}},[e._v("CO2")]),e.$dataStore.user.userrole.rules.canViewAdvancedData.allowed?r("option",{attrs:{value:"lampValues"}},[e._v(" Lamp Values ")]):e._e(),e.$dataStore.user.userrole.rules.canViewAdvancedData.allowed?r("option",{attrs:{value:"fanVoltage"}},[e._v(" Fan Voltage ")]):e._e()])]),r("div",[r("div",{staticClass:"relative"},[r("div",{staticClass:"absolute w-full h-full flex items-center justify-center"},[e.datepickerLoad?r("div",{staticClass:"lds-ring"},[r("div"),r("div"),r("div"),r("div")]):e._e()]),r("div",{staticClass:"relative",class:[e.showDatepicker?"visible":"invisible"]},[r("label",{attrs:{for:"dateFrom"}},[e._v("Choose the start date:")]),r("div",{staticClass:"text-black w-full pb-5"},[r("datetime",{staticClass:"border border-primary",attrs:{id:"dateFrom","min-datetime":e.disabledDates.from,"max-datetime":e.selectedDateTo,type:"datetime"},model:{value:e.selectedDateFrom,callback:function(t){e.selectedDateFrom=t},expression:"selectedDateFrom"}})],1),r("label",{attrs:{for:"dateTo"}},[e._v("Choose the end date:")]),r("div",{staticClass:"text-black w-full"},[r("datetime",{staticClass:"border border-primary",attrs:{id:"dateTo","min-datetime":e.selectedDateFrom,"max-datetime":e.disabledDates.to,type:"datetime"},model:{value:e.selectedDateTo,callback:function(t){e.selectedDateTo=t},expression:"selectedDateTo"}})],1)])]),r("button",{staticClass:"text-primary w-full text-center font-bold pt-5 hover:transform hover:scale-105\n            transition-all",class:[e.canRefresh?"visible":"invisible"],on:{click:e.refreshChart}},[e._v(" Refresh ")])])])]):e._e(),r("div",{staticClass:"h-full w-full"},[e.loaded?e._e():r("div",{staticClass:"absolute top-1/2 left-1/2 origin-center lds-ring"},[r("div"),r("div"),r("div"),r("div")]),e.loaded?r("chart",{staticClass:"p-16",style:e.chartStyles,attrs:{showAllCharts:e.showAllCharts,chartData:e.datacollection,options:e.options}}):e._e()],1)])},Y=[],K=(r("99af"),r("4160"),r("159b"),r("859b")),Q=(r("3f7b"),r("1fca")),X=(r("cadc"),{extends:Q["a"],props:["chartData","options","showAllCharts"],mounted:function(){this.renderLineChart()},methods:{renderLineChart:function(){this.renderChart(this.chartData,this.options)}},watch:{showAllCharts:function(){var e=this;this.$data._chart.data.datasets.forEach((function(t){t.hidden=e.showAllCharts})),this.$data._chart.update()}}}),ee=X,te=Object(w["a"])(ee,p,v,!1,null,null,null),re=te.exports,ae=r("1315"),se=ae.DateTime,oe={components:{Chart:re,datetime:K["Datetime"]},props:["device","propertie","from","to"],data:function(){return{loaded:!0,showPropertie:!1,showDatepicker:!1,datepickerLoad:!1,showToggleAllCharts:!1,showSettingPanel:!0,showAllCharts:!1,selectedDevice:this.device,selectedPropertie:"",selectedDateFrom:"",selectedDateTo:"",errorMessage:"",devices:[],canRefresh:!1,disabledDates:{},datacollection:{},options:{title:{display:!0,position:"top",text:["Device Chart"],fontSize:18},responsive:!0,maintainAspectRatio:!1,scales:{xAxes:[{type:"time",distribution:"linear",time:{tooltipFormat:"dd.MM.yyyy H:mm:ss",minUnit:"second",unit:"minute",displayFormats:{millisecond:"dd.MM.yyyy H:mm:ss",second:"dd.MM.yyyy H:mm:ss",minute:"dd.MM.yyyy H:mm:ss"}},ticks:{autoSkip:!0,maxRotation:90,minRotation:90}}],yAxes:[{propertie:this.propertie,ticks:{callback:function(e){switch(this.options.propertie){case"airVolume":return"".concat(e," mÂ³/h");case"tacho":return"".concat(e," R/min");case"lampValues":case"fanVoltage":return"".concat(e," V");case"co2":return"".concat(e," ppm");default:return"".concat(e)}}}}]}}}},computed:{toggleCharts:function(){return this.showAllCharts?"Show all charts":"Hide all charts"},chartStyles:function(){return{height:"100%",width:"100%",position:"relativ"}}},created:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getDevices();case 2:return t.prev=2,t.next=5,e.fetchData();case 5:t.next=11;break;case 7:t.prev=7,t.t0=t["catch"](2),console.error(t.t0),e.errorMessage=t.t0;case 11:case"end":return t.stop()}}),t,null,[[2,7]])})))()},watch:{$route:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.fetchData();case 3:t.next=9;break;case 5:t.prev=5,t.t0=t["catch"](0),console.error(t.t0),e.errorMessage=t.t0;case 9:case"end":return t.stop()}}),t,null,[[0,5]])})))()},selectedDateFrom:function(e){this.canRefresh=e!==this.from,this.selectedDateFrom=e},selectedDateTo:function(e){this.canRefresh=e!==this.to,this.selectedDateTo=e}},methods:{toggleAllCharts:function(){this.showAllCharts=!this.showAllCharts},outsideSettingPanelClicked:function(){this.showSettingPanel=!1},showSettingPanelAndFetchData:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.showSettingPanel=!0,t.next=3,e.getDevices();case 3:return t.next=5,e.getDateDuration();case 5:case"end":return t.stop()}}),t)})))()},fetchData:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var r,a,s,o,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(void 0!==e.device){t.next=3;break}return e.showSettingPanelAndFetchData(),t.abrupt("return");case 3:return t.next=5,fetch("/api/device?device=".concat(e.device));case 5:if(r=t.sent,404!==r.status){t.next=8;break}throw new Error("No data available");case 8:return t.next=10,r.json();case 10:if(a=t.sent,e.selectedDevice={name:a.name,serialnumber:a.serialnumber},void 0!==e.propertie){t.next=15;break}return e.showSettingPanelAndFetchData(),t.abrupt("return");case 15:if(e.selectedPropertie=e.propertie,e.showDatepicker=!0,void 0!==e.from){t.next=20;break}return e.showSettingPanelAndFetchData(),t.abrupt("return");case 20:if(e.selectedDateFrom=e.from,e.disabledDates={from:e.selectedDateFrom},void 0!==e.to){t.next=25;break}return e.showSettingPanelAndFetchData(),t.abrupt("return");case 25:return e.selectedDateTo=e.to,e.disabledDates={from:e.selectedDateFrom,to:e.selectedDateTo},e.loaded=!1,e.showSettingPanel=!1,t.next=31,fetch("/api/deviceData?device=".concat(e.selectedDevice.serialnumber,"&propertie=").concat(e.propertie,"&from=").concat(e.from,"&to=").concat(e.to));case 31:if(r=t.sent,404!==r.status){t.next=34;break}throw new Error("No data avalaible");case 34:return t.next=36,r.json();case 36:a=t.sent,s=[],t.t0=e.propertie,t.next="airVolume"===t.t0?41:"lampValues"===t.t0?45:"tacho"===t.t0?50:"fanVoltage"===t.t0?54:"co2"===t.t0?58:62;break;case 41:return e.datacollection.datasets=[{label:e.selectedDevice.name,backgroundColor:"#00666F",borderColor:"#00666F",borderWidth:1,data:[],fill:!1,spanGaps:!0}],a.forEach((function(t){e.datacollection.datasets[0].data.push({t:se.fromISO(t.date),y:t.volume})})),e.showAllCharts=!1,t.abrupt("break",63);case 45:for(o=0;o<16;o+=1)n="rgba(0,".concat(50+205/16*o,",").concat(80+175/16*o,")"),s.push({label:"".concat(e.selectedDevice.name," | Lamp ").concat(o+1),backgroundColor:n,borderColor:n,borderWidth:1,data:[],fill:!1,hidden:!0});return a.forEach((function(e){s[e.lamp-1].data.push({t:se.fromISO(e.date),y:e.value})})),e.showAllCharts=!0,e.datacollection.datasets=s,t.abrupt("break",63);case 50:return e.datacollection.datasets=[{label:e.selectedDevice.name,backgroundColor:"#00666F",borderColor:"#00666F",borderWidth:1,data:[],fill:!1}],a.forEach((function(t){e.datacollection.datasets[0].data.push({t:se.fromISO(t.date),y:t.tacho})})),e.showAllCharts=!1,t.abrupt("break",63);case 54:return e.datacollection.datasets=[{label:e.selectedDevice.name,backgroundColor:"#00666F",borderColor:"#00666F",borderWidth:1,data:[],fill:!1}],a.forEach((function(t){e.datacollection.datasets[0].data.push({t:se.fromISO(t.date),y:t.voltage})})),e.showAllCharts=!1,t.abrupt("break",63);case 58:return e.datacollection.datasets=[{label:e.selectedDevice.name,backgroundColor:"#00666F",borderColor:"#00666F",borderWidth:1,data:[],fill:!1}],a.forEach((function(t){e.datacollection.datasets[0].data.push({t:se.fromISO(t.date),y:t.co2})})),e.showAllCharts=!1,t.abrupt("break",63);case 62:return t.abrupt("break",63);case 63:e.options.title.text=["Device: ".concat(e.selectedDevice.name,", ").concat(e.selectedPropertie," | ")+"from: ".concat(new Date(e.selectedDateFrom).toLocaleString()," to: ").concat(new Date(e.selectedDateTo).toLocaleString())],e.options.scales.yAxes[0].propertie=e.selectedPropertie,e.showToggleAllCharts=!0,e.loaded=!0;case 67:case"end":return t.stop()}}),t)})))()},refreshChart:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$router.push({name:"DeviceChart",query:{device:e.selectedDevice.serialnumber,propertie:e.selectedPropertie,from:e.selectedDateFrom,to:e.selectedDateTo}});case 2:case"end":return t.stop()}}),t)})))()},getDevices:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch("/api/devices").then((function(e){return e.json()})).then((function(t){e.devices=[],t.forEach((function(t){e.devices.push({serialnumber:t.serialnumber,name:t.name})}))}));case 2:case"end":return t.stop()}}),t)})))()},getDateDuration:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.showDatepicker=!1,e.selectedPropertie){t.next=3;break}return t.abrupt("return");case 3:return e.datepickerLoad=!0,t.next=6,fetch("/api/timestamps?device=".concat(e.selectedDevice.serialnumber,"&propertie=").concat(e.selectedPropertie)).then((function(t){if(404===t.status)throw new Error("No data avalaible");return e.errorMessage="",t.json()})).then((function(t){e.disabledDates={from:t.from,to:t.to},e.selectedDateFrom=t.from,e.selectedDateTo=t.to,e.showDatepicker=!0})).catch((function(t){e.errorMessage=t,e.showDatepicker=!1}));case 6:e.datepickerLoad=!1;case 7:case"end":return t.stop()}}),t)})))()}}},ne=oe,ie=(r("c9ef"),Object(w["a"])(ne,J,Y,!1,null,null,null)),ce=ie.exports,le=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"relativ"},[r("div",{staticClass:"absolute right-0 space-x-2 flex m-2"},[r("div",[r("button",{directives:[{name:"show",rawName:"v-show",value:e.showToggleAllCharts,expression:"showToggleAllCharts"}],staticClass:"p-2 bg-white shadow",on:{click:e.toggleAllCharts}},[e._v(e._s(e.toggleCharts)+" ")])]),r("button",{staticClass:"bg-primary p-2 text-white shadow",on:{click:function(t){e.showSettingPanelAndFetchData(),e.loaded=!0}}},[r("svg",{staticClass:"h-5 w-5",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 16 16"}},[r("path",{attrs:{"fill-rule":"evenodd",d:"M11.5 2a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3zM9.05 3a2.5 2.5 0 0 1 4.9 0H16v1h-2.05a2.5\n        2.5 0 0 1-4.9 0H0V3h9.05zM4.5 7a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3zM2.05 8a2.5 2.5 0 0 1\n        4.9 0H16v1H6.95a2.5 2.5 0 0 1-4.9 0H0V8h2.05zm9.45 4a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0\n        0-3zm-2.45 1a2.5 2.5 0 0 1 4.9 0H16v1h-2.05a2.5 2.5 0 0 1-4.9 0H0v-1h9.05z"}})])])]),e.showSettingPanel?r("div",{staticClass:"fixed top-0 left-0 h-screen w-screen\n    bg-black bg-opacity-50 flex justify-center items-center",on:{click:e.outsideSettingPanelClicked}},[r("div",{staticClass:"absolute flex flex-col p-5 bg-secondary space-y-5",on:{click:function(e){e.stopPropagation()}}},[r("div",{staticClass:"flex justify-between items-center"},[r("h1",{staticClass:"font-bold text-xl"},[e._v("Datavisualization")]),r("button",{staticClass:"bg-transparent hover:bg-transparent p-0 m-0",on:{click:function(t){e.showSettingPanel=!1}}},[r("svg",{staticClass:"w-6 h-6 text-black",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 16 16"}},[r("path",{attrs:{d:"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1\n              .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646\n              2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"}})])])]),r("span",{staticClass:"text-red-500 font-bold",class:[""!==e.errorMessage?"visible":"hidden"]},[e._v(e._s(e.errorMessage))]),r("div",{staticClass:"w-full"},[r("label",{attrs:{for:"group"}},[e._v("Choose the group:")]),r("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedGroup,expression:"selectedGroup"}],staticClass:"text-black w-full p-2 rounded border border-primary",attrs:{name:"group",id:"group"},on:{change:[function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.selectedGroup=t.target.multiple?r:r[0]},function(t){e.showPropertie=!0}]}},e._l(e.groups,(function(t){return r("option",{key:t.id,domProps:{value:t}},[e._v(" "+e._s(t.name)+" ")])})),0)]),r("div",{class:[e.showPropertie||void 0!==e.selectedGroup?"visible":"invisible"]},[r("label",{attrs:{for:"propertie"}},[e._v("Choose the propertie:")]),r("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedPropertie,expression:"selectedPropertie"}],staticClass:"text-black w-full p-2 rounded border border-primary",attrs:{name:"propertie",id:"propertie"},on:{change:[function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.selectedPropertie=t.target.multiple?r:r[0]},e.getDateDuration]}},[r("option",{attrs:{value:"airVolume"}},[e._v("Air Volume")]),r("option",{attrs:{value:"tacho"}},[e._v("Tachos")])])]),r("div",[r("div",{staticClass:"relative"},[r("div",{staticClass:"absolute w-full h-full flex items-center justify-center"},[e.datepickerLoad?r("div",{staticClass:"lds-ring"},[r("div"),r("div"),r("div"),r("div")]):e._e()]),r("div",{staticClass:"relative",class:[e.showDatepicker?"visible":"invisible"]},[r("label",{attrs:{for:"dateFrom"}},[e._v("Choose the start date:")]),r("div",{staticClass:"text-black w-full pb-5"},[r("datetime",{staticClass:"border border-primary",attrs:{id:"dateFrom","min-datetime":e.disabledDates.from,"max-datetime":e.selectedDateTo,type:"datetime"},model:{value:e.selectedDateFrom,callback:function(t){e.selectedDateFrom=t},expression:"selectedDateFrom"}})],1),r("label",{attrs:{for:"dateTo"}},[e._v("Choose the end date:")]),r("div",{staticClass:"text-black w-full"},[r("datetime",{staticClass:"border border-primary",attrs:{id:"dateTo","min-datetime":e.selectedDateFrom,"max-datetime":e.disabledDates.to,type:"datetime"},model:{value:e.selectedDateTo,callback:function(t){e.selectedDateTo=t},expression:"selectedDateTo"}})],1)])]),r("button",{staticClass:"text-primary w-full text-center font-bold pt-5 hover:transform hover:scale-105\n            transition-all",class:[e.canRefresh?"visible":"invisible"],on:{click:e.refreshChart}},[e._v(" Refresh ")])])])]):e._e(),r("div",{staticClass:"h-full w-full"},[e.loaded?e._e():r("div",{staticClass:"absolute top-1/2 left-1/2 origin-center lds-ring"},[r("div"),r("div"),r("div"),r("div")]),e.loaded?r("chart",{staticClass:"p-16",style:e.chartStyles,attrs:{showAllCharts:e.showAllCharts,chartData:e.datacollection,options:e.options}}):e._e()],1)])},ue=[],de=r("1315"),me=de.DateTime,he={components:{Chart:re,datetime:K["Datetime"]},props:["group","propertie","from","to"],data:function(){return{loaded:!0,showPropertie:!1,showDatepicker:!1,datepickerLoad:!1,showToggleAllCharts:!1,showSettingPanel:!0,showAllCharts:!0,selectedGroup:this.group,selectedPropertie:"",selectedDateFrom:"",selectedDateTo:"",errorMessage:"",groups:[],canRefresh:!1,disabledDates:{},datacollection:{datasets:[]},options:{title:{display:!0,position:"top",text:["Group Chart"],fontSize:18},responsive:!0,maintainAspectRatio:!1,scales:{xAxes:[{type:"time",distribution:"linear",time:{tooltipFormat:"dd.MM.yyyy H:mm:ss",minUnit:"second",unit:"minute",displayFormats:{millisecond:"dd.MM.yyyy H:mm:ss",second:"dd.MM.yyyy H:mm:ss",minute:"dd.MM.yyyy H:mm:ss"}},ticks:{maxRotation:90,minRotation:90}}],yAxes:[{stacked:!0,propertie:this.propertie,ticks:{callback:function(e){switch(this.options.propertie){case"airVolume":return"".concat(e," mÂ³/h");case"tacho":return"".concat(e," R/min");case"lampValues":case"fanVoltage":return"".concat(e," V");case"co2":return"".concat(e," ppm");default:return"".concat(e)}}}}]},tooltips:{mode:"label",callbacks:{label:function(e,t){for(var r=t.datasets[e.datasetIndex].label,a=t.datasets[e.datasetIndex].data[e.index],s=0,o=0;o<t.datasets.length;o+=1)!t.datasets[o].hidden&&t.datasets[o].data.length<e.index&&(s+=t.datasets[o].data[e.index].y);return e.datasetIndex!==t.datasets.length-1?"".concat(r,": ").concat(a.y):["".concat(r,": ").concat(a.y),"Total: ".concat(s)]}}}}}},computed:{toggleCharts:function(){return this.showAllCharts?"Show all charts":"Hide all charts"},chartStyles:function(){return{height:"100%",width:"100%",position:"relativ"}}},created:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.fetchData();case 3:t.next=9;break;case 5:t.prev=5,t.t0=t["catch"](0),console.error(t.t0),e.errorMessage=t.t0;case 9:case"end":return t.stop()}}),t,null,[[0,5]])})))()},watch:{$route:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.fetchData();case 3:t.next=9;break;case 5:t.prev=5,t.t0=t["catch"](0),console.error(t.t0),e.errorMessage=t.t0;case 9:case"end":return t.stop()}}),t,null,[[0,5]])})))()},selectedDateFrom:function(e){this.canRefresh=e!==this.from,this.selectedDateFrom=e},selectedDateTo:function(e){this.canRefresh=e!==this.to,this.selectedDateTo=e}},methods:{toggleAllCharts:function(){this.showAllCharts=!this.showAllCharts},outsideSettingPanelClicked:function(){this.showSettingPanel=!1},showSettingPanelAndFetchData:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.showSettingPanel=!0,t.next=3,e.getGroups();case 3:return t.next=5,e.getDateDuration();case 5:case"end":return t.stop()}}),t)})))()},fetchData:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var r,a,s,o,n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(void 0!==e.group){t.next=3;break}return e.showSettingPanelAndFetchData(),t.abrupt("return");case 3:return t.next=5,fetch("/api/group?id=".concat(e.group));case 5:if(r=t.sent,200===r.status){t.next=8;break}throw new Error("No data available");case 8:return t.next=10,r.json();case 10:if(a=t.sent,e.selectedGroup={name:a.name,id:a.id},void 0!==e.propertie){t.next=15;break}return e.showSettingPanelAndFetchData(),t.abrupt("return");case 15:if(e.selectedPropertie=e.propertie,e.showDatepicker=!0,void 0!==e.from){t.next=20;break}return e.showSettingPanelAndFetchData(),t.abrupt("return");case 20:if(e.selectedDateFrom=e.from,e.disabledDates={from:e.selectedDateFrom},void 0!==e.to){t.next=25;break}return e.showSettingPanelAndFetchData(),t.abrupt("return");case 25:return e.selectedDateTo=e.to,e.disabledDates={from:e.selectedDateFrom,to:e.selectedDateTo},e.loaded=!1,e.showSettingPanel=!1,e.selectedPropertie=e.propertie,e.selectedDateFrom=e.from,e.selectedDateTo=e.to,t.next=34,fetch("/api/groupData?group=".concat(e.selectedGroup.id,"&propertie=").concat(e.propertie,"&from=").concat(e.from,"&to=").concat(e.to));case 34:if(r=t.sent,404!==r.status){t.next=37;break}throw new Error("No data available");case 37:return t.next=39,r.json();case 39:a=t.sent,e.datacollection.datasets.length=0,t.t0=e.propertie,t.next="airVolume"===t.t0?44:"tacho"===t.t0?47:50;break;case 44:for(s=function(t){var r="rgba(0,".concat(50+205/a.length*t,",").concat(80+175/a.length*t,")");e.datacollection.datasets.push({label:"".concat(e.selectedGroup.name," | ").concat(a[t][0].device),backgroundColor:r,borderColor:r,borderWidth:1,data:[],fill:!1,hidden:!0}),a[t].forEach((function(r){e.datacollection.datasets[t].data.push({t:me.fromISO(r.date),y:r.volume})}))},o=0;o<a.length;o+=1)s(o);return t.abrupt("break",51);case 47:for(n=function(t){var r="rgba(0,".concat(50+205/a.length*t,",").concat(80+175/a.length*t,")");e.datacollection.datasets.push({label:"".concat(e.selectedGroup.name," | ").concat(a[t][0].device),backgroundColor:r,borderColor:r,borderWidth:1,data:[],fill:!1,hidden:!0}),a[t].forEach((function(r){e.datacollection.datasets[t].data.push({t:me.fromISO(r.date),y:r.tacho})}))},i=0;i<a.length;i+=1)n(i);return t.abrupt("break",51);case 50:return t.abrupt("break",51);case 51:e.options.title.text=["Group: ".concat(e.selectedGroup.name,", ").concat(e.selectedPropertie," | ")+"from: ".concat(new Date(e.selectedDateFrom).toLocaleString()," to: ").concat(new Date(e.selectedDateTo).toLocaleString())],e.options.scales.yAxes[0].propertie=e.selectedPropertie,e.showToggleAllCharts=!0,e.loaded=!0,e.showAllCharts=!0;case 56:case"end":return t.stop()}}),t)})))()},refreshChart:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$router.push({name:"GroupChart",query:{group:e.selectedGroup.id,propertie:e.selectedPropertie,from:e.selectedDateFrom,to:e.selectedDateTo}});case 2:case"end":return t.stop()}}),t)})))()},getGroups:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch("/api/groups").then((function(e){return e.json()})).then((function(t){e.groups=[],t.forEach((function(t){e.groups.push({id:t.id,name:t.name})}))}));case 2:case"end":return t.stop()}}),t)})))()},getDateDuration:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.showDatepicker=!1,e.selectedPropertie){t.next=3;break}return t.abrupt("return");case 3:return e.datepickerLoad=!0,t.next=6,fetch("/api/timestamps?group=".concat(e.selectedGroup.id,"&propertie=").concat(e.selectedPropertie)).then((function(t){if(404===t.status)throw new Error("No data avalaible");return e.errorMessage="",t.json()})).then((function(t){e.disabledDates={from:t.from,to:t.to},e.selectedDateFrom=t.from,e.selectedDateTo=t.to,e.showDatepicker=!0})).catch((function(t){e.errorMessage=t,e.showDatepicker=!1}));case 6:e.datepickerLoad=!1;case 7:case"end":return t.stop()}}),t)})))()}}},pe=he,ve=(r("3d4d"),Object(w["a"])(pe,le,ue,!1,null,null,null)),fe=ve.exports,we=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"p-2 overflow-auto"},[r("div",{staticClass:"flex items-center space-x-5"},[r("h2",{staticClass:"text-lg font-bold"},[e._v("Devices")]),e.$dataStore.user.userrole.rules.canChangeProperties.allowed?r("button",{staticClass:"flex text-left text-primary bg-white shadow items-center p-2\n      hover:text-gray-600 hover:transform hover:scale-105\n        hover:font-semibold transition-all",on:{click:e.showAddForm}},[r("svg",{staticClass:"w-5 h-5 mr-2",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 16 16"}},[r("path",{attrs:{d:"M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12zM2 0a2 2\n          0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z"}}),r("path",{attrs:{d:"M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1\n          0-1h3v-3A.5.5 0 0 1 8 4z"}})]),e._v(" Add UVClean Device ")]):e._e()]),r("router-link",{staticClass:"cursor-default flex flex-wrap items-start justify-center",attrs:{to:"devices",tag:"div"},on:{click:function(t){e.$route.query.device=""}}},e._l(e.$dataStore.devices,(function(t){return r("UVCDevice",{key:t.serialnumber,ref:"device"+t.serialnumber,refInFor:!0,staticClass:"m-5 flex-shrink-0 w-80 md:w-96 border-primary border shadow-lg duration-200",class:[e.device===t.serialnumber?"transform scale-105":""],attrs:{device:t},on:{edit:function(t){return e.editDevice(t)},assignGroup:function(t){return e.showGroupForm(t)},changeState:function(t){return e.changeDeviceState(t)},acknowledgeAlarm:function(t){return e.acknowledgeAlarm(t)},identify:function(t){return e.identifyDevice(t)},reset:function(t){return e.resetDevice(t)}}})})),1),r("UVCForm",{attrs:{title:e.heading,show:e.showEditForm,errorMessage:e.errorMessage},on:{close:e.closeAddForm}},[r("label",{attrs:{for:"add_devicename"}},[e._v("Devicename")]),r("input",{staticClass:"rounded p-2 border-2 border-gray-500 mb-4",attrs:{id:"add_devicename",type:"text",placeholder:"UVCClean2000 Dach"},domProps:{value:e.formDevice.name},on:{input:function(t){e.formDevice.name=t.target.value}}}),r("label",{attrs:{for:"add_deviceserialnumber"}},[e._v("Serialnumber")]),r("input",{staticClass:"rounded p-2 border-2 border-gray-500 mb-4",attrs:{id:"add_deviceserialnumber",disabled:e.isFormEdit,type:"text",placeholder:"123456789"},domProps:{value:e.formDevice.serialnumber},on:{input:function(t){e.formDevice.serialnumber=t.target.value}}}),r("div",{staticClass:"flex flex-col md:inline-block md:float-left"},[r("button",{directives:[{name:"show",rawName:"v-show",value:e.isFormEdit,expression:"isFormEdit"}],staticClass:"float-left p-2 font-semibold hover:transform hover:scale-105 transition-all\n        text-red-500",on:{click:function(t){return e.deleteDevice(e.formDevice)}}},[e._v(" Delete ")]),r("div",{staticClass:"flex flex-col md:inline-block md:float-right space-x-2"},[r("button",{staticClass:"font-semibold p-2 hover:transform hover:scale-105 transition-all\n          bg-primary text-white",attrs:{type:"submit"},on:{click:function(t){e.isFormEdit?e.updateDevice(e.formDevice):e.addDevice(e.formDevice)}}},[e._v(" "+e._s(e.okProp)+" ")]),r("button",{staticClass:"font-semibold hover:transform hover:scale-105 transition-all",on:{click:e.closeAddForm}},[e._v(" Close ")])])])]),r("UVCForm",{attrs:{title:"Group Assignment",show:e.showGroupAssignmentForm,errorMessage:e.errorMessage},on:{close:e.closeGroupForm}},[r("h2",[r("span",{staticClass:"font-bold"},[e._v("Device:")]),e._v(" "+e._s(e.formDevice.name))]),r("div",{staticClass:"w-full flex flex-col md:flex-row md:items-center md:space-x-2"},[r("label",{staticClass:"font-bold",attrs:{for:"device"}},[e._v("Choose the group:")]),r("select",{directives:[{name:"model",rawName:"v-model",value:e.formSelectedGroup,expression:"formSelectedGroup"}],staticClass:"text-black w-full p-2 rounded border border-primary",attrs:{name:"device",id:"device"},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.formSelectedGroup=t.target.multiple?r:r[0]}}},e._l(e.$root.$dataStore.groups,(function(t){return r("option",{key:t.id,domProps:{value:t.id}},[e._v(" "+e._s(t.name)+" ")])})),0)]),r("div",{staticClass:"flex flex-col md:inline-block md:float-left"},[e.formDevice.group.name?r("button",{staticClass:"float-left font-semibold p-2 text-red-500\n        hover:transform hover:scale-105 transition-all",on:{click:e.removeGroupAssignment}},[e._v(" Remove assignment ")]):e._e(),r("div",{staticClass:"flex flex-col md:inline-block md:float-right space-x-2"},[r("button",{staticClass:"font-semibold p-2 hover:transform hover:scale-105 transition-all\n            bg-primary text-white",on:{click:e.assignDeviceToGroup}},[e._v(" Assign ")]),r("button",{staticClass:"font-semibold hover:transform hover:scale-105 transition-all",on:{click:e.closeGroupForm}},[e._v(" Close ")])])])]),r("ConfirmPrompt",{ref:"confirmPrompt"})],1)},ge=[],be=(r("a15b"),r("ac1f"),r("466d"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("router-link",{staticClass:"cursor-default",attrs:{to:{name:"devices",query:{device:this.device.serialnumber}},tag:"div"}},[r("div",{},[r("div",{staticClass:"p-2 items-center text-white",class:[e.device.alarmState?"bg-red-500":"bg-primary"]},[r("div",{staticClass:"flex flex-row justify-between items-center"},[r("div",[r("h3",{staticClass:"text-md font-bold"},[e._v(e._s(e.device.name))]),r("h4",{staticClass:"text-sm text-gray-200"},[e._v("SN: "+e._s(e.device.serialnumber))]),void 0!==e.device.group.name?r("router-link",{staticClass:"text-sm text-gray-200 hover:underline",attrs:{to:{name:"groups",query:{group:this.device.group._id}}}},[e._v(" Group: "+e._s(e.device.group.name)+" ")]):e._e()],1),r("dropdownMenu",{staticClass:"text-primary z-10",attrs:{showIcon:!0,menuItems:[{text:"Edit",disabled:!1===this.$root.$dataStore.user.userrole.rules.canChangeProperties.allowed},{text:"View chart",disabled:!1},{text:"Add to Group",disabled:!1===this.$root.$dataStore.user.userrole.rules.canChangeProperties.allowed},{text:"Acknowledge",disabled:!1===this.$root.$dataStore.user.userrole.rules.canChangeProperties.allowed},{text:"Identify",disabled:!1===this.$root.$dataStore.user.userrole.rules.canChangeProperties.allowed},{text:"Reset",disabled:!1===this.$root.$dataStore.user.userrole.rules.canChangeProperties.allowed}]},on:{itemClicked:function(t){return e.menuItemClicked(t)}}})],1)]),r("div",{staticClass:"relative"},[e.showAlarmPopup?r("div",{staticClass:"absolute w-full h-full bg-black opacity-40"}):e._e(),e.showAlarmPopup?r("div",{staticClass:"absolute w-full h-full flex items-center justify-center"},[r("div",{staticClass:"bg-gray-100 w-2/3 flex flex-col items-center justify-between\n          rounded shadow border-2 border-red-500"},[r("h1",{staticClass:"m-5 text-red-500 font-bold text-xl"},[e._v("An alarm occurred!")]),e._l(e.alarmPropertie,(function(t){return r("p",{key:t,staticClass:"w-full text-red-500 font-bold text-lg text-center whitespace-normal"},[e._v(" "+e._s(t)+" ")])})),r("button",{staticClass:"p-3 m-5 text-gray-900 font-bold text-center bg-gray-200 transform\n            hover:scale-105 duration-75",on:{click:function(t){e.$emit("acknowledgeAlarm",{serialnumber:e.device.serialnumber,prop:"acknowledge"}),e.showAlarmPopup=!1}}},[e._v(" Acknowledge ")])],2)]):e._e(),r("div",{staticClass:"p-2 grid grid-cols-2 space-y-2 items-center"},[r("label",{attrs:{for:"b_device_state"+e.device.serialnumber}},[e._v("Device State")]),r("button",{staticClass:"p-2 m-2 text-white hover:transform hover:scale-105 transition-all",class:{"bg-green-500":e.device.engineState,"bg-red-500":!e.device.engineState},attrs:{id:"b_device_state"+e.device.serialnumber,disabled:!1===e.$dataStore.user.userrole.rules.canChangeProperties.allowed},on:{click:function(t){return e.$emit("changeState",{serialnumber:e.device.serialnumber,prop:"engineState",newValue:!e.device.engineState})}}},[e._v(" "+e._s(e.state)+" ")]),r("label",{attrs:{for:"b_eventmode"+e.device.serialnumber}},[e._v("Eventmode")]),r("button",{staticClass:"p-2 m-2 text-white hover:transform hover:scale-105 transition-all",class:{"bg-green-500":e.device.eventMode,"bg-red-500":!e.device.eventMode},attrs:{id:"b_eventmode"+e.device.serialnumber,disabled:!1===e.$dataStore.user.userrole.rules.canChangeProperties.allowed},on:{click:function(t){return e.$emit("changeState",{serialnumber:e.device.serialnumber,prop:"eventMode",newValue:!e.device.eventMode})}}},[e._v(" "+e._s(e.eventMode)+" ")]),r("label",{attrs:{for:"s_engine_level"+e.device.serialnumber}},[e._v("Engine Level")]),r("select",{staticClass:"p-2 m-2 border border-gray-300 rounded",attrs:{id:"s_engine_level"+e.device.serialnumber,disabled:!1===e.$dataStore.user.userrole.rules.canChangeProperties.allowed},domProps:{value:e.device.engineLevel},on:{change:function(t){return e.$emit("changeState",{serialnumber:e.device.serialnumber,prop:"engineLevel",newValue:t.target.value})}}},[r("option",{attrs:{value:"1"}},[e._v("1")]),r("option",{attrs:{value:"2"}},[e._v("2")]),r("option",{attrs:{value:"3"}},[e._v("3")]),r("option",{attrs:{value:"4"}},[e._v("4")]),r("option",{attrs:{value:"5"}},[e._v("5")])]),r("h4",{staticClass:"text-lg pt-5 font-bold col-span-2"},[e._v("Statistics:")]),r("router-link",{staticClass:"col-span-2 flex justify-between cursor-pointer",attrs:{tag:"div",to:{name:"DeviceChart",query:{device:this.device.serialnumber,propertie:"airVolume"}}}},[r("span",{staticClass:"font-semibold"},[e._v("Air Volume")]),e.device.currentAirVolume?r("span",{staticClass:"text-right"},[e._v(" "+e._s(e.device.currentAirVolume.volume)+" mÂ³/h ")]):e._e()]),e.$dataStore.user.userrole.rules.canViewAdvancedData.allowed?r("router-link",{staticClass:"col-span-2 flex justify-between cursor-pointer",attrs:{tag:"div",to:{name:"DeviceChart",query:{device:this.device.serialnumber,propertie:"tacho"}}}},[r("span",{staticClass:"font-semibold"},[e._v("Rotation speed")]),e.device.tacho?r("span",{staticClass:"text-right"},[e._v(e._s(e.device.tacho.tacho)+" R/min")]):e._e()]):e._e(),e.$dataStore.user.userrole.rules.canViewAdvancedData.allowed?r("div",{staticClass:"col-span-2"},[r("div",{staticClass:"flex justify-between"},[r("span",{staticClass:"font-semibold"},[e._v("Lamp values (V)")]),r("button",{staticClass:"bg-transparent text-color hover:bg-transparent py-0 m-0 hover:transform\n                hover:scale-105 transition-all",on:{click:function(t){e.showLampValues=!e.showLampValues}}},[e.showLampValues?e._e():r("svg",{staticClass:"w-6 h-6",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 16 16"}},[r("path",{attrs:{d:"M16 8s-3-5.5-8-5.5S0 8 0 8s3 5.5 8 5.5S16 8 16 8zM1.173 8a13.133\n                  13.133 0 0 1 1.66-2.043C4.12 4.668 5.88 3.5 8 3.5c2.12 0 3.879 1.168 5.168\n                  2.457A13.133 13.133 0 0 1 14.828 8c-.058.087-.122.183-.195.288-.335.48-.83\n                  1.12-1.465 1.755C11.879 11.332 10.119 12.5 8 12.5c-2.12\n                  0-3.879-1.168-5.168-2.457A13.134 13.134 0 0 1 1.172 8z"}}),r("path",{attrs:{d:"M8 5.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5zM4.5 8a3.5 3.5 0 1 1 7\n                  0 3.5 3.5 0 0 1-7 0z"}})]),e.showLampValues?r("svg",{staticClass:"w-6 h-6",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 16 16"}},[r("path",{attrs:{d:"M13.359 11.238C15.06 9.72 16 8 16 8s-3-5.5-8-5.5a7.028 7.028 0 0\n                  0-2.79.588l.77.771A5.944 5.944 0 0 1 8 3.5c2.12 0 3.879 1.168 5.168\n                  2.457A13.134 13.134 0 0 1 14.828 8c-.058.087-.122.183-.195.288-.335.48-.83\n                  1.12-1.465 1.755-.165.165-.337.328-.517.486l.708.709z"}}),r("path",{attrs:{d:"M11.297 9.176a3.5 3.5 0 0 0-4.474-4.474l.823.823a2.5 2.5 0 0 1 2.829\n                  2.829l.822.822zm-2.943 1.299l.822.822a3.5 3.5 0 0 1-4.474-4.474l.823.823a2.5\n                  2.5 0 0 0 2.829 2.829z"}}),r("path",{attrs:{d:"M3.35 5.47c-.18.16-.353.322-.518.487A13.134 13.134 0 0 0 1.172\n                  8l.195.288c.335.48.83 1.12 1.465 1.755C4.121 11.332 5.881 12.5 8\n                  12.5c.716 0 1.39-.133 2.02-.36l.77.772A7.029 7.029 0 0 1 8 13.5C3\n                  13.5 0 8 0 8s.939-1.721 2.641-3.238l.708.709zm10.296 8.884l-12-12\n                  .708-.708 12 12-.708.708z"}})]):e._e()])]),r("transition",{attrs:{name:"slide"}},[e.showLampValues?r("div",{staticClass:"col-span-2  grid grid-cols-4"},e._l(e.device.currentLampValue,(function(t,a){return r("div",{key:a},[e._v(" "+e._s(t.lamp)+": "+e._s(t.value)+" ")])})),0):e._e()])],1):e._e(),e.showCurrentBodyStateSection?r("div",{staticClass:"col-span-2 flex justify-between"},[r("span",{staticClass:"font-semibold"},[e._v("Body Temperature Alarm")]),e.device.currentBodyState?r("span",{staticClass:"text-right"},[e._v(" "+e._s(e.device.currentBodyState.state)+" ")]):e._e()]):e._e(),e.showCurrentFanStateSection?r("div",{staticClass:"col-span-2 flex justify-between"},[r("span",{staticClass:"font-semibold"},[e._v("Fan Temperature Alarm")]),e.device.currentFanState?r("span",{staticClass:"text-right"},[e._v(" "+e._s(e.device.currentFanState.state)+" ")]):e._e()]):e._e(),0!==e.currentLampStates.length?r("div",{staticClass:"col-span-2 flex flex-col space-y-5 pb-5"},[r("div",{},[r("div",{staticClass:"flex justify-between"},[r("span",{staticClass:"font-semibold"},[e._v("Alarm states")]),r("button",{staticClass:"bg-transparent text-color hover:bg-transparent py-0 m-0 hover:transform\n                  hover:scale-105 transition-all",on:{click:function(t){e.showAlarmStates=!e.showAlarmStates}}},[e.showAlarmStates?e._e():r("svg",{staticClass:"w-6 h-6",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 16 16"}},[r("path",{attrs:{d:"M16 8s-3-5.5-8-5.5S0 8 0 8s3 5.5 8 5.5S16 8 16 8zM1.173 8a13.133\n                    13.133 0 0 1 1.66-2.043C4.12 4.668 5.88 3.5 8 3.5c2.12 0 3.879 1.168 5.168\n                    2.457A13.133 13.133 0 0 1 14.828 8c-.058.087-.122.183-.195.288-.335.48-.83\n                    1.12-1.465 1.755C11.879 11.332 10.119 12.5 8 12.5c-2.12\n                    0-3.879-1.168-5.168-2.457A13.134 13.134 0 0 1 1.172 8z"}}),r("path",{attrs:{d:"M8 5.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5zM4.5 8a3.5 3.5 0 1 1 7\n                    0 3.5 3.5 0 0 1-7 0z"}})]),e.showAlarmStates?r("svg",{staticClass:"w-6 h-6",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 16 16"}},[r("path",{attrs:{d:"M13.359 11.238C15.06 9.72 16 8 16 8s-3-5.5-8-5.5a7.028 7.028 0 0\n                    0-2.79.588l.77.771A5.944 5.944 0 0 1 8 3.5c2.12 0 3.879 1.168 5.168\n                    2.457A13.134 13.134 0 0 1 14.828 8c-.058.087-.122.183-.195.288-.335.48-.83\n                    1.12-1.465 1.755-.165.165-.337.328-.517.486l.708.709z"}}),r("path",{attrs:{d:"M11.297 9.176a3.5 3.5 0 0 0-4.474-4.474l.823.823a2.5 2.5 0 0 1 2.829\n                    2.829l.822.822zm-2.943 1.299l.822.822a3.5 3.5 0 0 1-4.474-4.474l.823.823a2.5\n                    2.5 0 0 0 2.829 2.829z"}}),r("path",{attrs:{d:"M3.35 5.47c-.18.16-.353.322-.518.487A13.134 13.134 0 0 0 1.172\n                    8l.195.288c.335.48.83 1.12 1.465 1.755C4.121 11.332 5.881 12.5 8\n                    12.5c.716 0 1.39-.133 2.02-.36l.77.772A7.029 7.029 0 0 1 8 13.5C3\n                    13.5 0 8 0 8s.939-1.721 2.641-3.238l.708.709zm10.296 8.884l-12-12\n                    .708-.708 12 12-.708.708z"}})]):e._e()])]),r("transition",{attrs:{name:"slide"}},[e.showAlarmStates?r("div",{staticClass:"col-span-2 grid grid-cols-4"},e._l(e.currentLampStates,(function(t,a){return r("div",{key:a,staticClass:"w-20"},[e._v(" "+e._s(t.lamp)+": "+e._s(t.state)+" ")])})),0):e._e()])],1)]):e._e()],1)])])])}),xe=[],Ce={name:"UVCDevice",props:["device"],components:{dropdownMenu:b},methods:{menuItemClicked:function(e){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:r.t0=e,r.next="Edit"===r.t0?3:"View chart"===r.t0?5:"Add to Group"===r.t0?8:"Reset"===r.t0?10:"Identify"===r.t0?12:"Acknowledge"===r.t0?14:17;break;case 3:return t.$emit("edit",t.device),r.abrupt("break",18);case 5:return r.next=7,t.$router.push({name:"DeviceChart",query:{device:t.device.serialnumber}}).catch((function(e){console.log(e)}));case 7:return r.abrupt("break",18);case 8:return t.$emit("assignGroup",t.device),r.abrupt("break",18);case 10:return t.$emit("reset",{serialnumber:t.device.serialnumber}),r.abrupt("break",18);case 12:return t.$emit("identify",{serialnumber:t.device.serialnumber}),r.abrupt("break",18);case 14:return t.$emit("acknowledgeAlarm",{serialnumber:t.device.serialnumber,prop:"acknowledge"}),t.showAlarmPopup=!1,r.abrupt("break",18);case 17:return r.abrupt("break",18);case 18:case"end":return r.stop()}}),r)})))()}},watch:{device:{deep:!0,handler:function(){var e=this;this.showCurrentBodyStateSection="ok"!==this.device.currentBodyState.state.toLowerCase(),this.showCurrentFanStateSection="ok"!==this.device.currentFanState.state.toLowerCase(),this.currentLampStates=this.device.currentLampState.filter((function(e){return"ok"!==e.state.toLowerCase()})),this.alarmPropertie=[],this.currentLampStates.forEach((function(t){e.alarmPropertie.push("Lamp: ".concat(t.lamp,", State: ").concat(t.state))})),this.showCurrentFanStateSection&&this.alarmPropertie.push("Fan States: Alarm"),this.showCurrentBodyStateSection&&this.alarmPropertie.push("Body States: Alarm"),!1===this.showAlarmPopup&&!0===this.device.alarmState&&(this.showAlarmPopup=!0),!0===this.showAlarmPopup&&!1===this.device.alarmState&&(this.showAlarmPopup=!1)}}},created:function(){var e=this;this.showCurrentBodyStateSection="ok"!==this.device.currentBodyState.state.toLowerCase(),this.showCurrentFanStateSection="ok"!==this.device.currentFanState.state.toLowerCase(),this.currentLampStates=this.device.currentLampState.filter((function(e){return"ok"!==e.state.toLowerCase()})),this.alarmPropertie=[],this.currentLampStates.forEach((function(t){e.alarmPropertie.push("Lamp: ".concat(t.lamp,", State: ").concat(t.state))})),this.showCurrentFanStateSection&&this.alarmPropertie.push("Fan States: Alarm"),this.showCurrentBodyStateSection&&this.alarmPropertie.push("Body States: Alarm"),!1===this.showAlarmPopup&&!0===this.device.alarmState&&(this.showAlarmPopup=!0),!0===this.showAlarmPopup&&!1===this.device.alarmState&&(this.showAlarmPopup=!1)},data:function(){return{showAlarmStates:!0,showLampValues:!0,hasDeviceAlarm:!1,showAlarmPopup:!1,alarmPropertie:[],showCurrentBodyStateSection:"ok"!==this.device.currentBodyState.state.toLowerCase(),showCurrentFanStateSection:"ok"!==this.device.currentFanState.state.toLowerCase(),currentLampStates:this.device.currentLampState.filter((function(e){return"ok"!==e.state.toLowerCase()}))}},computed:{state:{get:function(){return this.device.engineState?"On":"Off"},set:function(){return this.device.engineState?"On":"Off"}},eventMode:{get:function(){return this.device.eventMode?"On":"Off"},set:function(){return this.device.eventMode?"On":"Off"}},identifyMode:{get:function(){return this.device.identifyMode?"On":"Off"},set:function(){return this.device.identifyMode?"On":"Off"}}}},_e=Ce,ke=(r("b67a"),Object(w["a"])(_e,be,xe,!1,null,null,null)),ye=ke.exports,Se=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],staticClass:"fixed top-0 left-0 h-full w-full\n  bg-black bg-opacity-50 flex justify-center items-center",on:{click:e.close}},[r("form",{staticClass:"flex flex-col w-11/12 max-w-3xl text-color space-y-2 whitespace-nowrap bg-white\n      p-5 rounded",on:{submit:function(t){return e.submit(t)},click:function(e){e.stopPropagation()}}},[r("h1",{staticClass:"text-xl font-bold"},[e._v(e._s(e.title))]),r("h1",{staticClass:"font-bold pb-5 text-red-500 whitespace-pre-line",class:[""!==e.errorMessage?"visible":"hidden"]},[e._v(" Error: "+e._s(e.errorMessage)+" ")]),e._t("default")],2)])},De=[],Me={name:"FormUVC",props:["title","show","errorMessage"],methods:{close:function(){this.$emit("close")},submit:function(e){e.preventDefault()}},mounted:function(){var e=this;this.$emit("mounted"),document.addEventListener("keydown",(function(t){e.show&&27===t.keyCode&&e.close()}))}},Ae=Me,$e=Object(w["a"])(Ae,Se,De,!1,null,null,null),Ue=$e.exports,Fe=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],staticClass:"fixed top-0 left-0 h-full w-full\n  bg-black bg-opacity-50 flex justify-center items-center",on:{click:e.close}},[r("form",{staticClass:"flex flex-col w-11/12 max-w-3xl text-color space-y-2 bg-white\n      p-5 rounded",on:{submit:function(t){return e.submit(t)},click:function(e){e.stopPropagation()}}},[r("h1",{staticClass:"font-bold pb-5 text-primary text-center"},[e._v(" "+e._s(e.message)+" ")]),r("div",{staticClass:"w-full"},[r("div",{staticClass:"flex justify-around space-x-2"},[r("button",{staticClass:"font-semibold p-2 hover:transform hover:scale-105 transition-all\n            bg-primary text-white w-28",on:{click:function(t){return e.$emit("yesClicked")}}},[e._v(" Yes ")]),r("button",{staticClass:"font-semibold p-2 hover:transform hover:scale-105 transition-all\n            bg-primary text-white w-28",on:{click:function(t){e.$emit("noClicked"),e.close()}}},[e._v(" No ")])])])])])},Ee=[],Pe={name:"ConfirmPrompt",data:function(){return{message:"",show:!1}},methods:{close:function(){this.$emit("close")},submit:function(e){e.preventDefault()},open:function(e){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return t.show=!0,t.message=e,r.abrupt("return",new Promise((function(e,r){t.$on("yesClicked",(function(){t.show=!1,e()})),t.$on("noClicked",(function(){t.show=!1,r()}))})));case 3:case"end":return r.stop()}}),r)})))()}},mounted:function(){var e=this;this.$emit("mounted"),document.addEventListener("keydown",(function(t){e.show&&27===t.keyCode&&e.close()}))}},Ve=Pe,Oe=Object(w["a"])(Ve,Fe,Ee,!1,null,null,null),je=Oe.exports,ze={name:"UVCDeviceList",components:{UVCDevice:ye,UVCForm:Ue,ConfirmPrompt:je},props:["device"],watch:{device:function(){void 0!==this.device&&this.device.match(/[0-9]/gm)&&this.scrollToElement(this.device)}},mounted:function(){var e=this;this.$nextTick((function(){void 0!==e.device&&e.device.match(/[0-9]/gm)&&e.scrollToElement(e.device)}))},computed:{okProp:function(){return this.isFormEdit?"Update":"Add"},heading:function(){return this.isFormEdit?"Update Device":"Add Device"}},methods:{scrollToElement:function(e){var t=this.$refs["device".concat(e)];t&&t[0]&&t[0].$el.scrollIntoView({behavior:"smooth"})},editDevice:function(e){this.formDevice={serialnumber:e.serialnumber,name:e.name,group:e.group},this.isFormEdit=!0,this.showEditForm=!0},showGroupForm:function(e){this.formDevice={name:e.name,serialnumber:e.serialnumber,group:e.group},this.formSelectedGroup=void 0===e.group._id?"":e.group._id,this.showGroupAssignmentForm=!0},closeGroupForm:function(){this.formDevice={name:"",serialnumber:"",group:{name:""}},this.showGroupAssignmentForm=!1},assignDeviceToGroup:function(){""!==this.formSelectedGroup?null!==this.$root.$data.socket&&(this.$root.$data.socket.emit("group_addDevice",{device:this.formDevice.serialnumber,group:this.formSelectedGroup}),this.showGroupAssignmentForm=!1):this.errorMessage="You have to select a group to assign the device to."},removeGroupAssignment:function(){this.showGroupAssignmentForm=!1,null!==this.$root.$data.socket&&this.$root.$data.socket.emit("group_deviceDelete",{device:this.formDevice.serialnumber,group:this.formSelectedGroup})},showAddForm:function(){this.isFormEdit=!1,this.showEditForm=!0},closeAddForm:function(){this.showEditForm=!1,this.formDevice={name:"",serialnumber:"",group:{name:""}},this.errorMessage=""},addDevice:function(e){""!==e.name&&null===e.name.match(/[^0-9A-Za-z+ ]/gm)?""!==e.serialnumber&&null===e.serialnumber.match(/[^0-9]/gm)?(this.showEditForm=!1,this.errorMessage="",null!==this.$root.$data.socket&&this.$root.$data.socket.emit("device_add",{name:e.name,serialnumber:e.serialnumber})):this.errorMessage="Serialnumber has to be vaild. Only Numbers are allowed.\n Invalid characters: ".concat(e.serialnumber.match(/[^0-9]/gm).join(",")):this.errorMessage='Name has to be vaild. Only numbers, letters and "+" are allowed.\n Invalid characters: '.concat(e.name.match(/[^0-9A-Za-z+ ]/gm).join(","))},updateDevice:function(e){this.showEditForm=!1,null!==this.$root.$data.socket&&this.$root.$data.socket.emit("device_changeState",{serialnumber:e.serialnumber,prop:"name",newValue:"".concat(e.name)})},deleteDevice:function(e){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return t.showEditForm=!1,r.next=3,t.$refs.confirmPrompt.open('Do you really want to delete device "'.concat(e.serialnumber,'"?')).then((function(){null!==t.$root.$data.socket&&t.$root.$data.socket.emit("device_delete",{serialnumber:"".concat(e.serialnumber)})})).catch((function(){}));case 3:case"end":return r.stop()}}),r)})))()},changeDeviceState:function(e){void 0!==e.serialnumber&&void 0!==e.prop&&void 0!==e.newValue?null!==this.$root.$data.socket&&this.$root.$data.socket.emit("device_changeState",{serialnumber:e.serialnumber,prop:"".concat(e.prop),newValue:"".concat(e.newValue)}):console.error("New State can not be parsed",e)},acknowledgeAlarm:function(e){null!==this.$root.$data.socket&&this.$root.$data.socket.emit("device_acknowledgeAlarm",{serialnumber:e.serialnumber})},identifyDevice:function(e){null!==this.$root.$data.socket&&this.$root.$data.socket.emit("device_identify",{serialnumber:e.serialnumber})},resetDevice:function(e){null!==this.$root.$data.socket&&this.$root.$data.socket.emit("device_reset",{serialnumber:e.serialnumber})}},data:function(){return{showEditForm:!1,showGroupAssignmentForm:!1,errorMessage:"",isFormEdit:!1,formSelectedGroup:"",formGroups:[],formDevice:{name:"",serialnumber:"",group:{name:""}},groupAssignmentOptions:{device:{name:""}}}}},Re=ze,Le=Object(w["a"])(Re,we,ge,!1,null,null,null),Be=Le.exports,Ge=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"p-5 overflow-auto",attrs:{id:"groups"}},[r("div",{staticClass:"flex items-center space-x-5"},[r("h2",{staticClass:"text-lg font-bold"},[e._v("Groups")]),e.$dataStore.user.userrole.rules.canChangeProperties.allowed?r("button",{staticClass:"flex text-left text-primary bg-white shadow items-center p-2\n      hover:text-gray-600 hover:transform hover:scale-105\n        hover:font-semibold transition-all",on:{click:e.showAddForm}},[r("svg",{staticClass:"w-5 h-5 mr-2",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 16 16"}},[r("path",{attrs:{d:"M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12zM2 0a2 2\n          0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z"}}),r("path",{attrs:{d:"M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1\n          0-1h3v-3A.5.5 0 0 1 8 4z"}})]),e._v(" Add UVClean Group ")]):e._e()]),r("router-link",{staticClass:"cursor-default flex flex-wrap items-start justify-center",attrs:{to:"groups",tag:"div"},on:{click:function(t){e.$route.query.group=""}}},e._l(e.$dataStore.groups,(function(t){return r("UVCGroup",{key:t.id,ref:"group"+t.id,refInFor:!0,staticClass:"m-5 w-80 border-primary border shadow-lg duration-200",class:[e.group===t.id?"transform scale-105":""],attrs:{group:t},on:{edit:function(t){return e.editGroup(t)},setDevices:function(t){return e.setDevicesInGroup(t)},changeState:function(t){return e.changeGroupState(t)}}})})),1),r("UVCForm",{attrs:{title:e.heading,show:e.showEditForm,errorMessage:e.errorMessage},on:{close:e.closeAddForm}},[r("label",{attrs:{for:"add_groupname"}},[e._v("Group Name")]),r("input",{staticClass:"rounded p-2 border-2 border-gray-500 mb-4",attrs:{id:"add_groupname",type:"text",placeholder:"Dach"},domProps:{value:e.formGroup.name},on:{input:function(t){e.formGroup.name=t.target.value}}}),e.isFormEdit?r("label",{attrs:{for:"add_groupid"}},[e._v("Group ID")]):e._e(),e.isFormEdit?r("input",{staticClass:"rounded p-2 border-2 border-gray-500 mb-4",attrs:{id:"add_groupid",disabled:e.isFormEdit,type:"text",placeholder:"123456789"},domProps:{value:e.formGroup.id},on:{input:function(t){e.formGroup.id=t.target.value}}}):e._e(),r("div",{staticClass:"flex flex-col md:inline-block md:float-left"},[r("button",{directives:[{name:"show",rawName:"v-show",value:e.isFormEdit,expression:"isFormEdit"}],staticClass:"float-left p-2 font-semibold hover:transform hover:scale-105 transition-all\n        text-red-500",on:{click:function(t){return e.deleteGroup(e.formGroup)}}},[e._v(" Delete ")]),r("div",{staticClass:"flex flex-col md:inline-block md:float-right space-x-2"},[r("button",{staticClass:"font-semibold p-2 hover:transform hover:scale-105 transition-all\n          bg-primary text-white",on:{click:function(t){e.isFormEdit?e.updateGroup(e.formGroup):e.addGroup(e.formGroup)}}},[e._v(" "+e._s(e.okProp)+" ")]),r("button",{staticClass:"font-semibold hover:transform hover:scale-105 transition-all",on:{click:e.closeAddForm}},[e._v(" Close ")])])])]),r("UVCForm",{attrs:{title:"Set Devices in Group",show:e.showSetDeviceForm,errorMessage:e.errorMessage},on:{close:e.closeSetDeviceForm}},[r("h2",[e._v("Group: "+e._s(e.formGroup.name))]),r("div",{staticClass:"p-2 bg-white border border-gray-400 rounded"},e._l(e.$root.$dataStore.devices,(function(t){return r("div",{key:t.serialnumber,staticClass:"space-x-2"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.checkedDevices,expression:"checkedDevices"}],attrs:{type:"checkbox",id:"setDevice"+t.serialnumber},domProps:{value:t.serialnumber,checked:t.group.name===e.formGroup.name,checked:Array.isArray(e.checkedDevices)?e._i(e.checkedDevices,t.serialnumber)>-1:e.checkedDevices},on:{change:function(r){var a=e.checkedDevices,s=r.target,o=!!s.checked;if(Array.isArray(a)){var n=t.serialnumber,i=e._i(a,n);s.checked?i<0&&(e.checkedDevices=a.concat([n])):i>-1&&(e.checkedDevices=a.slice(0,i).concat(a.slice(i+1)))}else e.checkedDevices=o}}}),r("label",{staticClass:"select-none",attrs:{for:"setDevice"+t.serialnumber}},[e._v(" "+e._s(t.name)+" ")]),t.group.name?r("label",{staticClass:"italic select-none",attrs:{for:"setDevice"+t.serialnumber}},[e._v(" ("+e._s(t.group.name)+") ")]):e._e()])})),0),r("div",{staticClass:"flex flex-col md:flex-row md:inline-flex md:justify-end space-x-2"},[r("button",{staticClass:"font-semibold p-2 hover:transform hover:scale-105 transition-all\n        bg-primary text-white",on:{click:e.setDevices}},[e._v(" Set ")]),r("button",{staticClass:"font-semibold p-2 hover:transform hover:scale-105 transition-all",on:{click:e.closeSetDeviceForm}},[e._v(" Close ")])])]),r("ConfirmPrompt",{ref:"confirmPrompt"})],1)},Te=[],Ie=(r("d81d"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("router-link",{staticClass:"cursor-default",attrs:{to:{name:"groups",query:{group:this.group.id}},tag:"div"}},[r("div",[r("div",{staticClass:"p-2 items-center text-white",class:[e.group.alarmState?"bg-red-500":"bg-primary"]},[r("div",{staticClass:"flex flex-row justify-between items-center"},[r("div",[r("h3",{staticClass:"text-md font-bold"},[e._v(e._s(e.group.name))]),r("h4",{staticClass:"text-sm text-gray-200"},[e._v("ID: "+e._s(e.group.id))])]),r("dropdownMenu",{staticClass:"text-primary z-10",attrs:{showIcon:!0,menuItems:[{text:"Edit",disabled:!1===this.$root.$dataStore.user.userrole.rules.canChangeProperties.allowed},{text:"View chart",disabled:!1},{text:"Set Devices",disabled:!1===this.$root.$dataStore.user.userrole.rules.canChangeProperties.allowed}]},on:{itemClicked:function(t){return e.menuItemClicked(t)}}})],1)]),r("div",{staticClass:"p-2"},[r("h4",{staticClass:"text-lg pt-2 font-bold col-span-2"},[e._v("Groupmembers:")]),r("div",{staticClass:"pl-2 space-y-1"},e._l(e.group.devices,(function(t){return r("div",{key:t.serialnumber,staticClass:"p-2 rounded hover:underline cursor-pointer",class:[t.alarmState?"bg-red-500 text-white":"bg-gray-200"]},[r("router-link",{attrs:{to:"/dashboard/devices?device="+t.serialnumber}},[r("h5",{staticClass:"font-semibold text-sm"},[e._v(e._s(t.name))]),r("h5",{staticClass:"italic text-xs"},[e._v("SN: "+e._s(t.serialnumber))])])],1)})),0)]),r("div",{staticClass:"p-2 grid grid-cols-2 space-y-2 items-center"},[r("label",{attrs:{for:"b_group_state"}},[e._v("Group Engine State")]),r("button",{staticClass:"p-2 m-2 text-white hover:transform hover:scale-105 transition-all",class:{"bg-green-500":e.group.engineState,"bg-red-500":!e.group.engineState,"bg-yellow-400":0!==e.group.engineStateDevicesWithOtherState.length},attrs:{id:"b_group_state",disabled:!1===e.$dataStore.user.userrole.rules.canChangeProperties.allowed},on:{click:function(t){return e.$emit("changeState",{id:e.group.id,prop:"engineState",newValue:!e.group.engineState})}}},[e._v(" "+e._s(e.state)+" ")]),r("div",{staticClass:"col-span-2 px-2"},[r("div",{staticClass:"flex justify-between items-center"},[r("span",{staticClass:"text-sm"},[e._v("Devices that have not these state:")]),r("button",{staticClass:"bg-transparent text-color hover:bg-transparent py-0 m-0 hover:transform\n              hover:scale-105 transition-all",on:{click:function(t){e.showDevicesWithWrongStateEngineState=!e.showDevicesWithWrongStateEngineState}}},[e.showDevicesWithWrongStateEngineState?e._e():r("svg",{staticClass:"w-6 h-6",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 16 16"}},[r("path",{attrs:{d:"M16 8s-3-5.5-8-5.5S0 8 0 8s3 5.5 8 5.5S16 8 16 8zM1.173 8a13.133\n                13.133 0 0 1 1.66-2.043C4.12 4.668 5.88 3.5 8 3.5c2.12 0 3.879 1.168 5.168\n                2.457A13.133 13.133 0 0 1 14.828 8c-.058.087-.122.183-.195.288-.335.48-.83\n                1.12-1.465 1.755C11.879 11.332 10.119 12.5 8 12.5c-2.12\n                0-3.879-1.168-5.168-2.457A13.134 13.134 0 0 1 1.172 8z"}}),r("path",{attrs:{d:"M8 5.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5zM4.5 8a3.5 3.5 0 1 1 7\n                0 3.5 3.5 0 0 1-7 0z"}})]),e.showDevicesWithWrongStateEngineState?r("svg",{staticClass:"w-6 h-6",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 16 16"}},[r("path",{attrs:{d:"M13.359 11.238C15.06 9.72 16 8 16 8s-3-5.5-8-5.5a7.028 7.028 0 0\n                0-2.79.588l.77.771A5.944 5.944 0 0 1 8 3.5c2.12 0 3.879 1.168 5.168\n                2.457A13.134 13.134 0 0 1 14.828 8c-.058.087-.122.183-.195.288-.335.48-.83\n                1.12-1.465 1.755-.165.165-.337.328-.517.486l.708.709z"}}),r("path",{attrs:{d:"M11.297 9.176a3.5 3.5 0 0 0-4.474-4.474l.823.823a2.5 2.5 0 0 1 2.829\n                2.829l.822.822zm-2.943 1.299l.822.822a3.5 3.5 0 0 1-4.474-4.474l.823.823a2.5\n                2.5 0 0 0 2.829 2.829z"}}),r("path",{attrs:{d:"M3.35 5.47c-.18.16-.353.322-.518.487A13.134 13.134 0 0 0 1.172\n                8l.195.288c.335.48.83 1.12 1.465 1.755C4.121 11.332 5.881 12.5 8\n                12.5c.716 0 1.39-.133 2.02-.36l.77.772A7.029 7.029 0 0 1 8 13.5C3\n                13.5 0 8 0 8s.939-1.721 2.641-3.238l.708.709zm10.296 8.884l-12-12\n                .708-.708 12 12-.708.708z"}})]):e._e()])]),r("transition",{attrs:{name:"slide"}},[e.showDevicesWithWrongStateEngineState?r("div",{staticClass:"pl-2 space-y-1"},e._l(e.group.engineStateDevicesWithOtherState,(function(t){return r("div",{key:t.serialnumber,staticClass:"p-2 rounded hover:underline cursor-pointer",class:[t.alarmState?"bg-red-500 text-white":"bg-gray-200"]},[r("router-link",{attrs:{to:"/dashboard/devices?device="+t.serialnumber}},[r("h5",{staticClass:"font-semibold text-xs"},[e._v(e._s(t.name))]),r("h5",{staticClass:"italic text-xs"},[e._v("SN: "+e._s(t.serialnumber))])])],1)})),0):e._e()])],1),r("label",{attrs:{for:"b_eventmode"}},[e._v("Eventmode")]),r("button",{staticClass:"p-2 m-2 text-white hover:transform hover:scale-105 transition-all",class:{"bg-green-500":e.group.eventMode,"bg-red-500":!e.group.eventMode,"bg-yellow-400":0!==e.group.eventModeDevicesWithOtherState.length},attrs:{id:"b_eventmode",disabled:!1===e.$dataStore.user.userrole.rules.canChangeProperties.allowed},on:{click:function(t){return e.$emit("changeState",{id:e.group.id,prop:"eventMode",newValue:!e.group.eventMode})}}},[e._v(" "+e._s(e.eventMode)+" ")]),r("div",{staticClass:"col-span-2 px-2"},[r("div",{staticClass:"flex justify-between items-center"},[r("span",{staticClass:"text-sm"},[e._v("Devices that have not these state:")]),r("button",{staticClass:"bg-transparent text-color hover:bg-transparent py-0 m-0 hover:transform\n              hover:scale-105 transition-all",on:{click:function(t){e.showDevicesWithWrongStateEventMode=!e.showDevicesWithWrongStateEventMode}}},[e.showDevicesWithWrongStateEventMode?e._e():r("svg",{staticClass:"w-6 h-6",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 16 16"}},[r("path",{attrs:{d:"M16 8s-3-5.5-8-5.5S0 8 0 8s3 5.5 8 5.5S16 8 16 8zM1.173 8a13.133\n                13.133 0 0 1 1.66-2.043C4.12 4.668 5.88 3.5 8 3.5c2.12 0 3.879 1.168 5.168\n                2.457A13.133 13.133 0 0 1 14.828 8c-.058.087-.122.183-.195.288-.335.48-.83\n                1.12-1.465 1.755C11.879 11.332 10.119 12.5 8 12.5c-2.12\n                0-3.879-1.168-5.168-2.457A13.134 13.134 0 0 1 1.172 8z"}}),r("path",{attrs:{d:"M8 5.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5zM4.5 8a3.5 3.5 0 1 1 7\n                0 3.5 3.5 0 0 1-7 0z"}})]),e.showDevicesWithWrongStateEventMode?r("svg",{staticClass:"w-6 h-6",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 16 16"}},[r("path",{attrs:{d:"M13.359 11.238C15.06 9.72 16 8 16 8s-3-5.5-8-5.5a7.028 7.028 0 0\n                0-2.79.588l.77.771A5.944 5.944 0 0 1 8 3.5c2.12 0 3.879 1.168 5.168\n                2.457A13.134 13.134 0 0 1 14.828 8c-.058.087-.122.183-.195.288-.335.48-.83\n                1.12-1.465 1.755-.165.165-.337.328-.517.486l.708.709z"}}),r("path",{attrs:{d:"M11.297 9.176a3.5 3.5 0 0 0-4.474-4.474l.823.823a2.5 2.5 0 0 1 2.829\n                2.829l.822.822zm-2.943 1.299l.822.822a3.5 3.5 0 0 1-4.474-4.474l.823.823a2.5\n                2.5 0 0 0 2.829 2.829z"}}),r("path",{attrs:{d:"M3.35 5.47c-.18.16-.353.322-.518.487A13.134 13.134 0 0 0 1.172\n                8l.195.288c.335.48.83 1.12 1.465 1.755C4.121 11.332 5.881 12.5 8\n                12.5c.716 0 1.39-.133 2.02-.36l.77.772A7.029 7.029 0 0 1 8 13.5C3\n                13.5 0 8 0 8s.939-1.721 2.641-3.238l.708.709zm10.296 8.884l-12-12\n                .708-.708 12 12-.708.708z"}})]):e._e()])]),r("transition",{attrs:{name:"slide"}},[e.showDevicesWithWrongStateEventMode?r("div",{staticClass:"pl-2 space-y-1"},e._l(e.group.eventModeDevicesWithOtherState,(function(t){return r("div",{key:t.serialnumber,staticClass:"p-2 rounded hover:underline cursor-pointer",class:[t.alarmState?"bg-red-500 text-white":"bg-gray-200"]},[r("router-link",{attrs:{to:"/dashboard/devices?device="+t.serialnumber}},[r("h5",{staticClass:"font-semibold text-xs"},[e._v(e._s(t.name))]),r("h5",{staticClass:"italic text-xs"},[e._v("SN: "+e._s(t.serialnumber))])])],1)})),0):e._e()])],1),r("label",{attrs:{for:"s_engine_level"}},[e._v("Engine Level")]),r("select",{staticClass:"p-2 m-2 border border-gray-300 rounded",attrs:{name:"engine_level",id:"s_engine_level",disabled:!1===e.$dataStore.user.userrole.rules.canChangeProperties.allowed},on:{change:function(t){return e.$emit("changeState",{id:e.group.id,prop:"engineLevel",newValue:t.target.value})}}},[r("option",{attrs:{value:"1"}},[e._v("1")]),r("option",{attrs:{value:"2"}},[e._v("2")]),r("option",{attrs:{value:"3"}},[e._v("3")]),r("option",{attrs:{value:"4"}},[e._v("4")]),r("option",{attrs:{value:"5"}},[e._v("5")])]),r("div",{staticClass:"col-span-2 px-2"},[r("div",{staticClass:"flex justify-between items-center"},[r("span",{staticClass:"text-sm"},[e._v("Devices that have not these state:")]),r("button",{staticClass:"bg-transparent text-color hover:bg-transparent py-0 m-0 hover:transform\n              hover:scale-105 transition-all",on:{click:function(t){e.showDevicesWithWrongStateEngineLevel=!e.showDevicesWithWrongStateEngineLevel}}},[e.showDevicesWithWrongStateEngineLevel?e._e():r("svg",{staticClass:"w-6 h-6",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 16 16"}},[r("path",{attrs:{d:"M16 8s-3-5.5-8-5.5S0 8 0 8s3 5.5 8 5.5S16 8 16 8zM1.173 8a13.133\n                13.133 0 0 1 1.66-2.043C4.12 4.668 5.88 3.5 8 3.5c2.12 0 3.879 1.168 5.168\n                2.457A13.133 13.133 0 0 1 14.828 8c-.058.087-.122.183-.195.288-.335.48-.83\n                1.12-1.465 1.755C11.879 11.332 10.119 12.5 8 12.5c-2.12\n                0-3.879-1.168-5.168-2.457A13.134 13.134 0 0 1 1.172 8z"}}),r("path",{attrs:{d:"M8 5.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5zM4.5 8a3.5 3.5 0 1 1 7\n                0 3.5 3.5 0 0 1-7 0z"}})]),e.showDevicesWithWrongStateEngineLevel?r("svg",{staticClass:"w-6 h-6",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 16 16"}},[r("path",{attrs:{d:"M13.359 11.238C15.06 9.72 16 8 16 8s-3-5.5-8-5.5a7.028 7.028 0 0\n                0-2.79.588l.77.771A5.944 5.944 0 0 1 8 3.5c2.12 0 3.879 1.168 5.168\n                2.457A13.134 13.134 0 0 1 14.828 8c-.058.087-.122.183-.195.288-.335.48-.83\n                1.12-1.465 1.755-.165.165-.337.328-.517.486l.708.709z"}}),r("path",{attrs:{d:"M11.297 9.176a3.5 3.5 0 0 0-4.474-4.474l.823.823a2.5 2.5 0 0 1 2.829\n                2.829l.822.822zm-2.943 1.299l.822.822a3.5 3.5 0 0 1-4.474-4.474l.823.823a2.5\n                2.5 0 0 0 2.829 2.829z"}}),r("path",{attrs:{d:"M3.35 5.47c-.18.16-.353.322-.518.487A13.134 13.134 0 0 0 1.172\n                8l.195.288c.335.48.83 1.12 1.465 1.755C4.121 11.332 5.881 12.5 8\n                12.5c.716 0 1.39-.133 2.02-.36l.77.772A7.029 7.029 0 0 1 8 13.5C3\n                13.5 0 8 0 8s.939-1.721 2.641-3.238l.708.709zm10.296 8.884l-12-12\n                .708-.708 12 12-.708.708z"}})]):e._e()])]),r("transition",{attrs:{name:"slide"}},[e.showDevicesWithWrongStateEngineLevel?r("div",{staticClass:"pl-2 space-y-1"},e._l(e.group.engineLevelDevicesWithOtherState,(function(t){return r("div",{key:t.serialnumber,staticClass:"p-2 rounded hover:underline cursor-pointer",class:[t.alarmState?"bg-red-500 text-white":"bg-gray-200"]},[r("router-link",{attrs:{to:"/dashboard/devices?device="+t.serialnumber}},[r("h5",{staticClass:"font-semibold text-xs"},[e._v(e._s(t.name))]),r("h5",{staticClass:"italic text-xs"},[e._v("SN: "+e._s(t.serialnumber))])])],1)})),0):e._e()])],1)])])])}),Ne=[],Ze={name:"UVCGroup",props:["group"],components:{dropdownMenu:b},methods:{menuItemClicked:function(e){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:r.t0=e,r.next="Edit"===r.t0?3:"View chart"===r.t0?5:"Set Devices"===r.t0?8:10;break;case 3:return t.$emit("edit",t.group),r.abrupt("break",11);case 5:return r.next=7,t.$router.push({name:"GroupChart",query:{group:t.group.serialnumber}}).catch((function(e){console.log(e)}));case 7:return r.abrupt("break",11);case 8:return t.$emit("setDevices",t.group),r.abrupt("break",11);case 10:return r.abrupt("break",11);case 11:case"end":return r.stop()}}),r)})))()}},data:function(){return{showAlarmStates:!0,showLampValues:!0,showDevicesWithWrongStateEngineState:!1,showDevicesWithWrongStateEventMode:!1,showDevicesWithWrongStateEngineLevel:!1}},computed:{state:{get:function(){return this.group.engineState?"On":"Off"},set:function(){return this.group.engineState?"On":"Off"}},eventMode:{get:function(){return this.group.eventMode?"On":"Off"},set:function(){return this.group.eventMode?"On":"Off"}}}},We=Ze,He=(r("3ec2"),Object(w["a"])(We,Ie,Ne,!1,null,null,null)),qe=He.exports,Je={name:"UVCGroupList",components:{UVCGroup:qe,UVCForm:Ue,ConfirmPrompt:je},props:["group"],computed:{okProp:function(){return this.isFormEdit?"Update":"Add"},heading:function(){return this.isFormEdit?"Update Group":"Add Group"}},watch:{group:function(){void 0!==this.group&&this.group.match(/[0-9a-z]/gm)&&this.scrollToElement(this.group)}},mounted:function(){var e=this;this.$nextTick((function(){void 0!==e.group&&e.group.match(/[0-9a-z]/gm)&&e.scrollToElement(e.group)}))},methods:{closeSetDeviceForm:function(){this.showSetDeviceForm=!1},scrollToElement:function(e){var t=this.$refs["group".concat(e)];t&&t[0]&&t[0].$el.scrollIntoView({behavior:"smooth"})},showAddForm:function(){this.formGroup={name:"",id:""},this.isFormEdit=!1,this.showEditForm=!0},closeAddForm:function(){this.showEditForm=!1,this.formGroup={name:"",id:""},this.errorMessage=""},addGroup:function(e){""!==e.name&&null===e.name.match(/[^0-9A-Za-z+ ]/gm)?(this.showEditForm=!1,this.errorMessage="",null!==this.$root.$data.socket&&this.$root.$data.socket.emit("group_add",{name:e.name})):this.errorMessage='Name has to be vaild. Only numbers, letters and "+" are allowed.\n Invalid characters: '.concat(e.name.match(/[^0-9A-Za-z+ ]/gm).join(","))},setDevices:function(){""!==this.formGroup.name&&null===this.formGroup.name.match(/[^0-9A-Za-z+ ]/gm)?(this.showSetDeviceForm=!1,null!==this.$root.$data.socket&&this.$root.$data.socket.emit("group_setDevices",{group:this.formGroup.id,devices:this.checkedDevices})):this.errorMessage="Name has to be vaild."},setDevicesInGroup:function(e){var t=this;this.formGroup={name:e.name,id:e.id},this.checkedDevices=[],e.devices.map((function(e){return t.checkedDevices.push(e.serialnumber),e})),this.showSetDeviceForm=!0},editGroup:function(e){this.formGroup={name:e.name,id:e.id},this.isFormEdit=!0,this.showEditForm=!0},updateGroup:function(e){""!==e.name&&null===e.name.match(/[^0-9A-Za-z+ ]/gm)?(this.showEditForm=!1,this.errorMessage="",null!==this.$root.$data.socket&&this.$root.$data.socket.emit("group_changeState",{id:e.id,prop:"name",newValue:e.name})):this.errorMessage='Name has to be vaild. Only numbers, letters and "+" are allowed.\n Invalid characters: '.concat(e.name.match(/[^0-9A-Za-z+ ]/gm).join(","))},deleteGroup:function(e){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return t.showEditForm=!1,r.next=3,t.$refs.confirmPrompt.open('Do you really want to delete group "'.concat(e.name,'"?')).then((function(){null!==t.$root.$data.socket&&t.$root.$data.socket.emit("group_delete",{id:e.id})})).catch((function(){}));case 3:case"end":return r.stop()}}),r)})))()},changeGroupState:function(e){void 0!==e.id&&void 0!==e.prop&&void 0!==e.newValue?null!==this.$root.$data.socket&&this.$root.$data.socket.emit("group_changeState",{id:e.id,prop:e.prop,newValue:"".concat(e.newValue)}):console.log("New State can not be parsed",e)}},data:function(){return{showSetDeviceForm:!1,checkedDevices:[],showEditForm:!1,isFormEdit:!1,errorMessage:"",formGroup:{name:"",id:""}}}},Ye=Je,Ke=(r("33c6"),Object(w["a"])(Ye,Ge,Te,!1,null,null,null)),Qe=Ke.exports,Xe=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"flex flex-col xl:flex-row h-full w-full overflow-y-auto"},[r("user-list",{staticClass:"w-full xl:w-1/2"}),r("userrole-list",{staticClass:"w-full xl:w-1/2"})],1)},et=[],tt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"flex items-center space-x-5"},[r("h2",{staticClass:"text-lg font-bold"},[e._v("Users")]),e.$dataStore.user.userrole.rules.canEditUser.allowed?r("button",{staticClass:"flex text-left text-primary bg-white shadow items-center p-2\n      hover:text-gray-500 hover:transform hover:scale-105\n        hover:font-semibold transition-all",on:{click:function(t){return e.showUserAddForm()}}},[r("svg",{staticClass:"w-5 h-5 mr-2",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 16 16"}},[r("path",{attrs:{d:"M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12zM2 0a2 2\n          0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z"}}),r("path",{attrs:{d:"M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1\n          0-1h3v-3A.5.5 0 0 1 8 4z"}})]),e._v(" Add User ")]):e._e()]),e._l(e.$dataStore.users,(function(t){return r("user",{key:t.username,attrs:{user:t},on:{editUser:function(t){return e.editUser(t)}}})})),r("UVCForm",{attrs:{title:e.heading,show:e.showUserForm,errorMessage:e.errorMessage},on:{close:e.closeUserForm}},[r("label",{attrs:{for:"form_username"}},[e._v("Username")]),r("input",{staticClass:"rounded p-2 border border-gray-500 mb-4",attrs:{id:"form_username",type:"text",placeholder:"Max Mustermann"},domProps:{value:e.formUser.username},on:{input:function(t){e.isFormEdit?e.formUser.newUsername=t.target.value:e.formUser.username=t.target.value}}}),e.isFormEdit?r("button",{staticClass:"hover:underline",on:{click:function(t){e.showUserForm=!1,e.showChangePasswordForm=!0}}},[e._v(" Change Password ")]):r("div",{staticClass:"flex flex-col"},[r("label",{attrs:{for:"form_password"}},[e._v("Password")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.formUser.password,expression:"formUser.password"}],staticClass:"rounded p-2 border border-gray-500 mb-4",attrs:{id:"form_password",type:"password"},domProps:{value:e.formUser.password},on:{input:function(t){t.target.composing||e.$set(e.formUser,"password",t.target.value)}}}),r("label",{attrs:{for:"form_passwordrepeat"}},[e._v("Password repeat")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.formUser.passwordrepeat,expression:"formUser.passwordrepeat"}],staticClass:"rounded p-2 border border-gray-500 mb-4",attrs:{id:"form_passwordrepeat",type:"password"},domProps:{value:e.formUser.passwordrepeat},on:{input:function(t){t.target.composing||e.$set(e.formUser,"passwordrepeat",t.target.value)}}})]),r("div",{staticClass:"flex w-full space-x-2 items-center"},[r("h2",{staticClass:"font-bold text-lg"},[e._v("Userrole:")]),r("select",{staticClass:"text-lg w-full p-2 border border-gray-300 rounded",domProps:{value:e.formUser.userrole},on:{change:function(t){e.formUser.userrole=t.target.value}}},e._l(e.$dataStore.userroles,(function(t){return r("option",{key:t.name,domProps:{value:t.name}},[e._v(" "+e._s(t.name)+" ")])})),0)]),r("div",{},[r("button",{directives:[{name:"show",rawName:"v-show",value:e.isFormEdit,expression:"isFormEdit"}],staticClass:"float-left p-2 font-semibold hover:transform hover:scale-105 transition-all\n        text-red-500",attrs:{disabled:!e.isFormEdit},on:{click:function(t){return e.deleteUser(e.formUser)}}},[e._v(" Delete ")]),r("div",{staticClass:"float-right space-x-2"},[r("button",{staticClass:"font-semibold p-2 hover:transform hover:scale-105 transition-all\n          bg-primary text-white",on:{click:function(t){e.isFormEdit?e.updateUser(e.formUser):e.addUser(e.formUser)}}},[e._v(" "+e._s(e.okProp)+" ")]),r("button",{staticClass:"font-semibold p-2 hover:transform hover:scale-105 transition-all",on:{click:e.closeUserForm}},[e._v(" Close ")])])])]),r("UVCForm",{attrs:{title:"Change Password",show:e.showChangePasswordForm,errorMessage:e.errorMessage},on:{close:e.closeUserForm}},[r("label",{attrs:{for:"form_oldPassword"}},[e._v("Old Password")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.formUser.oldPassword,expression:"formUser.oldPassword"}],staticClass:"rounded p-2 border border-gray-500 mb-4",attrs:{id:"form_oldPassword",type:"password"},domProps:{value:e.formUser.oldPassword},on:{input:function(t){t.target.composing||e.$set(e.formUser,"oldPassword",t.target.value)}}}),r("label",{attrs:{for:"form_newPassword"}},[e._v("New Password")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.formUser.newPassword,expression:"formUser.newPassword"}],staticClass:"rounded p-2 border border-gray-500 mb-4",attrs:{id:"form_newPassword",type:"password"},domProps:{value:e.formUser.newPassword},on:{input:function(t){t.target.composing||e.$set(e.formUser,"newPassword",t.target.value)}}}),r("label",{attrs:{for:"form_newPasswordrepeat"}},[e._v("New Password repeat")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.formUser.newPasswordrepeat,expression:"formUser.newPasswordrepeat"}],staticClass:"rounded p-2 border border-gray-500 mb-4",attrs:{id:"form_newPasswordrepeat",type:"password"},domProps:{value:e.formUser.newPasswordrepeat},on:{input:function(t){t.target.composing||e.$set(e.formUser,"newPasswordrepeat",t.target.value)}}}),r("div",{},[r("div",{staticClass:"float-right space-x-2"},[r("button",{staticClass:"font-semibold p-2 hover:transform hover:scale-105 transition-all\n          bg-primary text-white",on:{click:function(t){return e.changeUserPassword(e.formUser)}}},[e._v(" Change ")]),r("button",{staticClass:"font-semibold hover:transform hover:scale-105 transition-all",on:{click:e.closeUserForm}},[e._v(" Close ")])])])])],2)},rt=[],at=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"m-2 flex border border-gray-300 rounded overflow-hidden shadow-sm"},[r("div",{staticClass:"w-24 p-2 flex items-center justify-center bg-primary text-white"},[r("svg",{staticClass:"h-16 w-16",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 16 16"}},[r("path",{attrs:{d:"M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"}}),r("path",{attrs:{"fill-rule":"evenodd",d:"M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8zm8-7a7 7 0 0 0-5.468\n        11.37C3.242 11.226 4.805 10 8 10s4.757 1.225 5.468 2.37A7 7 0 0 0 8 1z"}})])]),r("div",{staticClass:"w-full p-2"},[r("div",{staticClass:"flex items-center justify-between"},[r("h1",{staticClass:"font-bold text-lg"},[e._v(e._s(e.user.username))]),r("div",{staticClass:"flex items-center space-x-2"},[this.$dataStore.user.userrole.rules.canEditUser.allowed?r("button",{on:{click:function(t){return e.$emit("editUser",e.user)}}},[r("svg",{staticClass:"w-5 h-5 text-black",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 16 16"}},[r("path",{attrs:{d:"M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707\n              0l1.293 1.293zm-1.75 2.456l-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25\n              0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"}}),r("path",{attrs:{"fill-rule":"evenodd",d:"M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0\n              1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5\n              0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5v11z"}})])]):e._e()])]),r("h2",{staticClass:"text-sm"},[e._v("Userrole: "+e._s(e.user.userrole.name))])])])},st=[],ot={props:{user:Object}},nt=ot,it=Object(w["a"])(nt,at,st,!1,null,null,null),ct=it.exports,lt={name:"UserList",components:{User:ct,UVCForm:Ue},data:function(){return{formUser:{username:"",userrole:{}},isFormEdit:!1,showUserForm:!1,showChangePasswordForm:!1,errorMessage:""}},methods:{editUser:function(e){this.errorMessage="",this.formUser={username:e.username,newUsername:e.username,userrole:e.userrole.name},this.isFormEdit=!0,this.showUserForm=!0},showUserAddForm:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.errorMessage="",e.formUser={username:""},e.isFormEdit=!1,e.showUserForm=!0;case 4:case"end":return t.stop()}}),t)})))()},closeUserForm:function(){this.showUserForm=!1,this.showChangePasswordForm=!1},deleteUser:function(e){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function r(){var a,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,fetch("/api/deleteUser",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e.username})});case 2:return a=r.sent,r.next=5,a.json();case 5:if(s=r.sent,201===a.status){r.next=9;break}return t.errorMessage=s.msg,r.abrupt("return");case 9:return r.next=11,t.$root.getUsers();case 11:t.$dataStore.users=r.sent,t.showUserForm=!1;case 13:case"end":return r.stop()}}),r)})))()},addUser:function(e){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function r(){var a,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(!(e.username.length<=3||null!==e.username.match(/[^0-9A-Za-z+ ]/gm))){r.next=4;break}return t.errorMessage="Username has to be vaild. Only numbers and letters are allowed. Provide at least 3 characters.\n",null!==e.username.match(/[^0-9A-Za-z+#-.!&]/gm)&&(t.errorMessage+=" Invalid characters: ".concat(e.username.match(/[^0-9A-Za-z+ ]/gm).join(","))),r.abrupt("return");case 4:if(!(e.password.length<=5||null!==e.password.match(/[^0-9A-Za-z+#-.!&]/gm))){r.next=8;break}return t.errorMessage="Password has to be vaild. Only numbers, letters and +#-.!& are allowed. Provide at least 5 characters.\n",null!==e.password.match(/[^0-9A-Za-z+#-.!&]/gm)&&(t.errorMessage+=" Invalid characters: ".concat(e.password.match(/[^0-9A-Za-z+#-.!&]/gm).join(","))),r.abrupt("return");case 8:if(e.password===e.passwordrepeat){r.next=11;break}return t.errorMessage="Passwords do not match",r.abrupt("return");case 11:if(void 0!==e.userrole){r.next=14;break}return t.errorMessage="Please choose an userrole",r.abrupt("return");case 14:return r.next=16,fetch("/api/createUser",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e.username,password:e.password,password_repeat:e.passwordrepeat,userrole:e.userrole})});case 16:return a=r.sent,r.next=19,a.json();case 19:if(s=r.sent,201===a.status){r.next=23;break}return t.errorMessage=s.msg,r.abrupt("return");case 23:return r.next=25,t.$root.getUsers();case 25:t.$dataStore.users=r.sent,t.showUserForm=!1;case 27:case"end":return r.stop()}}),r)})))()},updateUser:function(e){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function r(){var a,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return t.errorMessage="",r.next=3,fetch("/api/updateUser?action=changeUserrole",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e.username,newUserrole:e.userrole})});case 3:return a=r.sent,console.log(a),r.next=7,a.json();case 7:if(s=r.sent,201===a.status){r.next=11;break}return t.errorMessage=s.msg,r.abrupt("return");case 11:return r.next=13,t.$root.getUsers();case 13:t.$dataStore.users=r.sent,t.showUserForm=!1;case 15:case"end":return r.stop()}}),r)})))()},changeUserPassword:function(e){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function r(){var a,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(t.errorMessage="",!(e.oldPassword.length<=5||void 0===e.oldPassword)){r.next=4;break}return t.errorMessage="Provide an old password which is longer than 5 characters",r.abrupt("return");case 4:if(!(e.newPassword.length<=5||null!==e.newPassword.match(/[^0-9A-Za-z+#-.!&]/gm))){r.next=8;break}return t.errorMessage="Password has to be vaild. Only numbers, letters and +#-.!& are allowed. Provide at least 5 characters. \n",null!==e.newPassword.match(/[^0-9A-Za-z+#-.!&]/gm)&&(t.errorMessage+="Invalid characters: ".concat(e.newPassword.match(/[^0-9A-Za-z+#-.!&]/gm).join(","))),r.abrupt("return");case 8:if(!(e.newPasswordrepeat.length<=5||e.newPassword!==e.newPasswordrepeat)){r.next=11;break}return t.errorMessage="Passwords do not match",r.abrupt("return");case 11:return r.next=13,fetch("/api/updateUser?action=changePassword",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e.username,oldPassword:e.oldPassword,newPassword:e.newPassword,newPasswordRepeated:e.newPasswordrepeat})});case 13:return a=r.sent,r.next=16,a.json();case 16:if(s=r.sent,201===a.status){r.next=20;break}return t.errorMessage=s.msg,r.abrupt("return");case 20:t.showChangePasswordForm=!1;case 21:case"end":return r.stop()}}),r)})))()}},computed:{heading:function(){return this.isFormEdit?"Edit User":"Add User"},okProp:function(){return this.isFormEdit?"Update":"Add"}},beforeCreate:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$root.getUsers();case 2:e.$dataStore.users=t.sent;case 3:case"end":return t.stop()}}),t)})))()}},ut=lt,dt=Object(w["a"])(ut,tt,rt,!1,null,null,null),mt=dt.exports,ht=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"flex items-center space-x-5"},[r("h2",{staticClass:"text-lg font-bold"},[e._v("Userroles")]),e.$dataStore.user.userrole.rules.canEditUserrole.allowed?r("button",{staticClass:"flex text-left text-primary bg-white shadow items-center p-2\n      hover:text-gray-500 hover:transform hover:scale-105\n        hover:font-semibold transition-all",on:{click:e.showUserroleAddForm}},[r("svg",{staticClass:"w-5 h-5 mr-2",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 16 16"}},[r("path",{attrs:{d:"M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12zM2 0a2 2\n          0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z"}}),r("path",{attrs:{d:"M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1\n          0-1h3v-3A.5.5 0 0 1 8 4z"}})]),e._v(" Add Userrole ")]):e._e()]),e._l(e.$dataStore.userroles,(function(t){return r("userrole",{key:t.name,attrs:{userrole:t},on:{editUserrole:function(t){return e.editUserrole(t)}}})})),r("UVCForm",{attrs:{title:e.heading,show:e.showUserListForm,errorMessage:e.errorMessage},on:{close:e.closeUserForm}},[r("label",{attrs:{for:"form_userrolename"}},[e._v("Name")]),r("input",{staticClass:"rounded p-2 border border-gray-500 mb-4",attrs:{id:"form_userrolename",type:"text",placeholder:"Technician"},domProps:{value:e.formUserrole.name},on:{input:function(t){e.isFormEdit?e.formUserrole.newName=t.target.value:e.formUserrole.name=t.target.value}}}),r("div",{staticClass:"flex w-full"},[r("div",{staticClass:"w-1/2"},[r("h2",{staticClass:"font-bold text-lg"},[e._v("Userrights")]),r("div",{staticClass:"flex flex-col space-y-2 m-2"},e._l(e.$dataStore.userroleRights,(function(t){return r("div",{key:t.propertie,staticClass:"space-x-2 text-sm flex items-center"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.formUserrole.rules[t.propertie],expression:"formUserrole.rules[rule.propertie]"}],attrs:{type:"checkbox",id:"cbxuserrole"+t.propertie},domProps:{value:t.propertie,checked:t.allowed,checked:Array.isArray(e.formUserrole.rules[t.propertie])?e._i(e.formUserrole.rules[t.propertie],t.propertie)>-1:e.formUserrole.rules[t.propertie]},on:{change:function(r){var a=e.formUserrole.rules[t.propertie],s=r.target,o=!!s.checked;if(Array.isArray(a)){var n=t.propertie,i=e._i(a,n);s.checked?i<0&&e.$set(e.formUserrole.rules,t.propertie,a.concat([n])):i>-1&&e.$set(e.formUserrole.rules,t.propertie,a.slice(0,i).concat(a.slice(i+1)))}else e.$set(e.formUserrole.rules,t.propertie,o)}}}),r("label",{attrs:{for:"cbxuserrole"+t.propertie}},[e._v(e._s(t.description))])])})),0)]),r("div",{staticClass:"w-1/2"},[r("h2",{staticClass:"font-bold text-lg whitespace-normal"},[e._v(" Can be edited by ")]),r("div",{staticClass:"flex flex-col space-y-2 m-2"},e._l(e.$dataStore.userroles.filter((function(t){return t.name!==e.formUserrole.name})),(function(t){return r("div",{key:t.name,staticClass:"space-x-2 text-sm flex items-center"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.formUserrole.newcanBeEditedByUserrole,expression:"formUserrole.newcanBeEditedByUserrole"}],attrs:{type:"checkbox",id:"cbxuserrole"+t.name},domProps:{value:t.name,checked:Array.isArray(e.formUserrole.newcanBeEditedByUserrole)?e._i(e.formUserrole.newcanBeEditedByUserrole,t.name)>-1:e.formUserrole.newcanBeEditedByUserrole},on:{change:function(r){var a=e.formUserrole.newcanBeEditedByUserrole,s=r.target,o=!!s.checked;if(Array.isArray(a)){var n=t.name,i=e._i(a,n);s.checked?i<0&&e.$set(e.formUserrole,"newcanBeEditedByUserrole",a.concat([n])):i>-1&&e.$set(e.formUserrole,"newcanBeEditedByUserrole",a.slice(0,i).concat(a.slice(i+1)))}else e.$set(e.formUserrole,"newcanBeEditedByUserrole",o)}}}),r("label",{attrs:{for:"cbxuserrole"+t.name}},[e._v(e._s(t.name))])])})),0)])]),r("div",{},[r("button",{directives:[{name:"show",rawName:"v-show",value:e.isFormEdit,expression:"isFormEdit"}],staticClass:"float-left p-2 font-semibold hover:transform hover:scale-105 transition-all\n        text-red-500",attrs:{disabled:!e.isFormEdit},on:{click:function(t){return e.deleteUserrole(e.formUserrole)}}},[e._v(" Delete ")]),r("div",{staticClass:"float-right space-x-2"},[r("button",{staticClass:"font-semibold p-2 hover:transform hover:scale-105 transition-all\n          bg-primary text-white",on:{click:function(t){e.isFormEdit?e.updateUser(e.formUserrole):e.addUserrole(e.formUserrole)}}},[e._v(" "+e._s(e.okProp)+" ")]),r("button",{staticClass:"font-semibold p-2 hover:transform hover:scale-105 transition-all",on:{click:e.closeUserForm}},[e._v(" Close ")])])])])],2)},pt=[],vt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"m-2 flex border border-gray-300 rounded overflow-hidden shadow-sm"},[r("div",{staticClass:"w-24 flex items-center justify-center bg-primary text-white"},[r("svg",{staticClass:"h-16 w-16",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 16 16"}},[r("path",{attrs:{d:"M6.5 2a.5.5 0 0 0 0 1h3a.5.5 0 0 0 0-1h-3zM11 8a3 3 0 1 1-6 0 3 3 0 0 1\n        6 0z"}}),r("path",{attrs:{d:"M4.5 0A2.5 2.5 0 0 0 2 2.5V14a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V2.5A2.5 2.5\n        0 0 0 11.5 0h-7zM3 2.5A1.5 1.5 0 0 1 4.5 1h7A1.5 1.5 0 0 1 13 2.5v10.795a4.2 4.2\n        0 0 0-.776-.492C11.392 12.387 10.063 12 8 12s-3.392.387-4.224.803a4.2 4.2 0 0\n        0-.776.492V2.5z"}})])]),r("div",{staticClass:"w-full p-2"},[r("div",{staticClass:"flex items-center justify-between pb-4"},[r("h1",{staticClass:"font-bold text-lg"},[e._v("Userrole: "+e._s(e.userrole.name))]),r("div",{staticClass:"flex space-x-2 m-2"},[e.canLoggedInUserEdit?r("button",{on:{click:function(t){return e.$emit("editUserrole",e.userrole)}}},[r("svg",{staticClass:"w-5 h-5 text-black",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 16 16"}},[r("path",{attrs:{d:"M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707\n              0l1.293 1.293zm-1.75 2.456l-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25\n              0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"}}),r("path",{attrs:{"fill-rule":"evenodd",d:"M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0\n              1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5\n              0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5v11z"}})])]):e._e()])]),r("div",{staticClass:"flex flex-col sm:flex-row"},[r("div",[r("h2",{staticClass:"font-bold text-base"},[e._v("Rights:")]),r("div",{staticClass:"flex flex-col space-y-2 m-2"},e._l(e.userrole.rules,(function(t){return r("div",{key:t.description,staticClass:"space-x-2 text-sm flex items-center"},[r("input",{attrs:{type:"checkbox",id:"cbxuserrole"+t.description,disabled:""},domProps:{checked:t.allowed}}),r("label",{attrs:{for:"cbxuserrole"+t.description}},[e._v(e._s(t.description))])])})),0)]),r("div",[r("h2",{staticClass:"font-bold text-base"},[e._v("Can be edited by:")]),r("div",{staticClass:"flex flex-col space-y-2 m-2"},e._l(e.$dataStore.userroles.filter((function(t){return t.name!==e.userrole.name})),(function(t){return r("div",{key:t.name,staticClass:" space-x-2 text-sm flex items-center"},[r("input",{attrs:{type:"checkbox",id:"cbxuserrole"+t.name,disabled:""},domProps:{checked:e.isIncanBeEditedByUserrole(t)}}),r("label",{attrs:{for:"cbxuserrole"+t.name}},[e._v(e._s(t.name))])])})),0)])])])])},ft=[],wt={name:"Userrole",props:{userrole:Object},computed:{canLoggedInUserEdit:function(){var e=this;return!!this.$dataStore.user.userrole.rules.canEditUserrole.allowed&&(1===this.userrole.canBeEditedByUserrole.filter((function(t){return t.name===e.$dataStore.user.userrole.name})).length||this.$dataStore.user.userrole.name===this.userrole.name)}},methods:{isIncanBeEditedByUserrole:function(e){return 1===this.userrole.canBeEditedByUserrole.filter((function(t){return t.name===e.name})).length}}},gt=wt,bt=Object(w["a"])(gt,vt,ft,!1,null,null,null),xt=bt.exports,Ct={name:"UserroleList",components:{Userrole:xt,UVCForm:Ue},data:function(){return{formUserrole:{name:"",rules:{},canBeEditedByUserrole:[]},isFormEdit:!1,showUserListForm:!1,errorMessage:""}},methods:{isIncanBeEditedByUserrole:function(e,t){return e.name===t.name||1===t.canBeEditedByUserrole.filter((function(t){return t.name===e.name})).length},editUserrole:function(e){var t=this;this.errorMessage="",console.log(e),this.formUserrole={name:e.name,rules:{},canBeEditedByUserrole:[],newcanBeEditedByUserrole:[]},this.$dataStore.userroleRights.forEach((function(r){t.formUserrole.rules[r.propertie]=e.rules[r.propertie].allowed})),e.canBeEditedByUserrole.forEach((function(e){t.formUserrole.newcanBeEditedByUserrole.push(e.name)})),this.isFormEdit=!0,this.showUserListForm=!0},showUserroleAddForm:function(){var e=this;this.errorMessage="",this.formUserrole={name:"",rules:{},newcanBeEditedByUserrole:[]},this.$dataStore.userroleRights.forEach((function(t){e.formUserrole.rules[t.propertie]=!0})),this.isFormEdit=!1,this.showUserListForm=!0},closeUserForm:function(){this.showUserListForm=!1},deleteUserrole:function(e){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function r(){var a,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,fetch("/api/deleteUserrole",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userrolename:e.name})});case 2:return a=r.sent,r.next=5,a.json();case 5:if(s=r.sent,201===a.status){r.next=9;break}return t.errorMessage=s.msg,r.abrupt("return");case 9:return r.next=11,t.$root.getUserroles();case 11:t.$dataStore.userroles=r.sent,t.showUserListForm=!1;case 13:case"end":return r.stop()}}),r)})))()},addUserrole:function(e){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function r(){var a,s,o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(!(e.name.length<=3||null!==e.name.match(/[^0-9A-Za-z+ ]/gm))){r.next=4;break}return t.errorMessage="Username has to be vaild. Only numbers and letters are allowed.Provide at least 3 characters.\n",null!==e.name.match(/[^0-9A-Za-z+#-.!&]/gm)&&(t.errorMessage+=" Invalid characters: '\n              + '".concat(e.name.match(/[^0-9A-Za-z+ ]/gm).join(","))),r.abrupt("return");case 4:return a={userrole:e.name,canBeEditedByUserrole:e.newcanBeEditedByUserrole},t.$dataStore.userroleRights.forEach((function(t){a[t.propertie]=e.rules[t.propertie]})),console.log(a),r.next=9,fetch("/api/createUserrole",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});case 9:return s=r.sent,r.next=12,s.json();case 12:if(o=r.sent,201===s.status){r.next=16;break}return t.errorMessage=o.msg,r.abrupt("return");case 16:return r.next=18,t.$root.getUserroles();case 18:t.$dataStore.userroles=r.sent,t.showUserListForm=!1;case 20:case"end":return r.stop()}}),r)})))()},updateUser:function(e){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function r(){var a,s,o,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(a="changeRights",s={},void 0===e.newName){r.next=11;break}if(!(e.newName.length<=3||null!==e.newName.match(/[^0-9A-Za-z+ ]/gm))){r.next=7;break}return t.errorMessage="Username has to be vaild. Only numbers and letters are allowed.Provide at least 3 characters.\n",null!==e.newName.match(/[^0-9A-Za-z+#-.!&]/gm)&&(t.errorMessage+=" Invalid characters: '\n              + '".concat(e.newName.match(/[^0-9A-Za-z+ ]/gm).join(","))),r.abrupt("return");case 7:s.name=e.newName,a="changeName",r.next=14;break;case 11:s.userrole=e.name,s.canBeEditedByUserrole=e.newcanBeEditedByUserrole,t.$dataStore.userroleRights.forEach((function(t){s[t.propertie]=e.rules[t.propertie]}));case 14:return console.log(s),r.next=17,fetch("/api/updateUserrole?action=".concat(a),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});case 17:return o=r.sent,r.next=20,o.json();case 20:if(n=r.sent,console.log(n),201===o.status){r.next=25;break}return t.errorMessage=n.msg,r.abrupt("return");case 25:return r.next=27,t.$root.getUserroles();case 27:return t.$dataStore.userroles=r.sent,r.next=30,t.$root.getUser();case 30:t.$dataStore.user=r.sent,t.showUserListForm=!1;case 32:case"end":return r.stop()}}),r)})))()}},computed:{heading:function(){return this.isFormEdit?"Edit Userrole":"Add Userrole"},okProp:function(){return this.isFormEdit?"Update":"Add"}},created:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$root.getUserroles();case 2:return e.$dataStore.userroles=t.sent,t.next=5,e.$root.getUserroleRights();case 5:e.$dataStore.userroleRights=t.sent;case 6:case"end":return t.stop()}}),t)})))()}},_t=Ct,kt=Object(w["a"])(_t,ht,pt,!1,null,null,null),yt=kt.exports,St={components:{UserList:mt,UserroleList:yt}},Dt=St,Mt=Object(w["a"])(Dt,Xe,et,!1,null,null,null),At=Mt.exports,$t=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e._m(0),r("div",{staticClass:"max-w-2xl md:mt-10"},[r("div",{staticClass:"relative bg-gray-100"},[r("span",{staticClass:"absolute font-bold w-full h-full text-red-500 text-center italic"},[e._v(" Deprecated ")]),r("div",{staticClass:"flex justify-between p-2"},[e._m(1),r("select",{staticClass:"p-2 m-2 border border-gray-300 rounded w-24",attrs:{disabled:""},domProps:{value:e.$dataStore.settings.defaultEngineLevel},on:{change:function(t){return e.setEngineLevel(t.target.value)}}},[r("option",{attrs:{value:"1"}},[e._v("1")]),r("option",{attrs:{value:"2"}},[e._v("2")]),r("option",{attrs:{value:"3"}},[e._v("3")]),r("option",{attrs:{value:"4"}},[e._v("4")]),r("option",{attrs:{value:"5"}},[e._v("5")])])])])])])},Ut=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"flex items-center space-x-5"},[r("h2",{staticClass:"text-lg font-bold"},[e._v("General settings")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("h3",{staticClass:"text-base font-bold"},[e._v("Default engine Level")]),r("span",{staticClass:"text-xs"},[e._v("Is automatically send after the device is turned on")])])}],Ft={name:"GeneralSettings",components:{},data:function(){return{}},methods:{setEngineLevel:function(e){var t=this;fetch("/api/settings?user=".concat(this.$dataStore.user.username),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({engineLevel:e})}).then(function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(401!==t.status){e.next=5;break}return e.next=3,t.json();case 3:throw r=e.sent,new Error(r.msg);case 5:return e.abrupt("return",t.json);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){t.message=e}))}},computed:{heading:function(){return this.isFormEdit?"Edit User":"Add User"},okProp:function(){return this.isFormEdit?"Update":"Add"}},beforeCreate:function(){var e=this;fetch("/api/settings").then((function(t){if(404===t.status)throw new Error("No data available");return e.errorMessage="",t.json()})).then((function(t){console.log(t),e.$dataStore.settings=t})).catch((function(e){console.error(e)}))}},Et=Ft,Pt=Object(w["a"])(Et,$t,Ut,!1,null,null,null),Vt=Pt.exports;s["a"].use(y["a"]);var Ot=[{path:"/dashboard",name:"dashboard",component:j,props:function(e){return e.query||{}},children:[{name:"devices",path:"devices",component:Be,props:function(e){return e.query||{}}},{name:"groups",path:"groups",component:Qe,props:function(e){return e.query||{}}}]},{path:"/chart",name:"chart",component:T,children:[{path:"device",name:"DeviceChart",component:ce,props:function(e){return e.query||{}}},{path:"group",name:"GroupChart",component:fe,props:function(e){return e.query||{}}}]},{path:"/settings",name:"settings",component:q,children:[{path:"user",name:"settingsUser",component:At,props:function(e){return e.query||{}}},{path:"general",name:"settingsGeneral",component:Vt,props:function(e){return e.query||{}}}]}],jt=new y["a"]({routes:Ot}),zt=jt;r("ce8c"),r("f080");s["a"].config.productionTip=!1;var Rt=s["a"].observable({devices:[],groups:[],user:{userrole:{canBeEditedByUserroles:[]}},userroles:[],userroleRights:[],settings:{},users:[]});fetch("/api/loggedinUser").then((function(e){if(200!==e.status)throw new Error(e.msg);return e.json()})).then((function(e){Rt.user=e,console.log(Rt)})).then((function(){var e=c()();s["a"].prototype.$dataStore=Rt,s["a"].use(n.a),new s["a"]({render:function(e){return e(k)},router:zt,data:{socket:Rt.user.userrole.rules.canChangeProperties.allowed?e:null},created:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return window.onbeforeunload=function(){e.emit("leave",t.username)},e.on("error",(function(e){console.error("error in backend",e),s["a"].$toast.open({type:"error",message:"Server Error: ".concat(e.message),duration:5e3})})),e.on("info",(function(e){console.log("info in backend",e),s["a"].$toast.open({type:"info",message:"Server Info: ".concat(e.message),duration:5e3})})),e.on("warn",(function(e){console.log("warn in backend",e),s["a"].$toast.open({type:"warning",message:"Server Warn: ".concat(e.message),duration:5e3})})),e.on("device_alarm",(function(e){console.log("Event: device_alarm",e),t.$dataStore.devices.filter((function(t){if(t.serialnumber===e.serialnumber){var r=t;r.alarmState="false"!=="".concat(e.alarmValue)}return t}))})),e.on("databaseConnected",(function(){console.log("info in backend: database is connected"),s["a"].$toast.open({type:"info",message:"Server Info: Database is connected",duration:5e3}),t.fetchDataFromServer()})),e.on("group_deviceAlarm",(function(e){console.log("Event: group_deviceAlarm",e),t.$dataStore.groups.filter((function(t){if(t.id===e.group){var r=t;r.alarmState="false"!=="".concat(e.alarmValue),t.devices.filter((function(t){return t.serialnumber===e.serialnumber&&(console.log(t),t.alarmState="false"!=="".concat(e.alarmValue),console.log(t)),t}))}return t}))})),e.on("device_added",(function(e){console.log("Event: device_added",e),t.$dataStore.devices.push(e)})),e.on("user_added",(function(e){console.log("Event: user_added",e),t.$dataStore.users.push(e)})),e.on("user_deleted",function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(r){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:console.log("Event: user_deleted",r),a=0,t.$dataStore.users.filter((function(e){return e.username===r.username&&(a=t.$dataStore.users.indexOf(e)),e})),console.log(a),t.$dataStore.users.splice(a,1);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.on("user_updated",function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(r){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:console.log("Event: user_updated",r),t.$dataStore.users.filter((function(e){var t=e;return e.username===r.username&&(t.username=r.newUsername,t.userrole.rules.canChangeProperties.allowed=r.userrole.rules.canChangeProperties.allowed),e}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.on("device_deleted",function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(r){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("Event: device_deleted",r),e.next=3,t.fetchDataFromServer();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.on("group_added",(function(e){console.log("Event: group_added",e),t.$dataStore.groups.push(e)})),e.on("group_deleted",Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("Event: group_deleted"),e.next=3,t.fetchDataFromServer();case 3:case"end":return e.stop()}}),e)})))),e.on("group_deviceAdded",Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("Event: group_deviceAdded"),e.next=3,t.fetchDataFromServer();case 3:case"end":return e.stop()}}),e)})))),e.on("group_deviceDeleted",function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(r){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("Event: group_deviceDeleted",r),e.next=3,t.fetchDataFromServer();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.on("device_stateChanged",(function(e){t.$dataStore.devices.filter((function(t){if(t.serialnumber===e.serialnumber){var r=t,a="";switch(e.prop){case"name":r.name="".concat(e.newValue);break;case"currentFanState":r[e.prop]={state:"".concat(e.newValue)};break;case"currentBodyState":r[e.prop]={state:"".concat(e.newValue)};break;case"engineState":case"eventMode":r[e.prop]="true"==="".concat(e.newValue);break;case"tacho":void 0===r[e.prop]?r[e.prop]={tacho:parseInt(e.newValue,10)}:r[e.prop].tacho=parseInt(e.newValue,10);break;case"currentAirVolume":void 0===r[e.prop]?r[e.prop]={volume:parseInt(e.newValue,10)}:r[e.prop].volume=parseInt(e.newValue,10);break;case"engineLevel":r[e.prop]=parseInt(e.newValue,10);break;case"currentLampState":a=r[e.prop],void 0===a[e.lamp-1]?a[e.lamp-1]={lamp:e.lamp,state:e.newValue}:a[e.lamp-1].state=e.newValue;break;case"currentLampValue":a=r[e.prop],void 0===a[e.lamp-1]?a[e.lamp-1]={lamp:e.lamp,value:e.newValue}:a[e.lamp-1].value=e.newValue;break;default:console.log("Can not parse stateChanged message with prop ".concat(e.prop));break}return r}return!1}))})),e.on("group_stateChanged",(function(e){console.log("Event: group_stateChanged",e),t.$dataStore.groups.filter((function(t){if(t.id===e.id){var r=t;switch(e.prop){case"name":r[e.prop]="".concat(e.newValue);break;case"engineState":r[e.prop]="true"==="".concat(e.newValue);break;case"eventMode":r[e.prop]="true"==="".concat(e.newValue);break;case"engineLevel":r[e.prop]=parseInt(e.newValue,10);break;default:console.log("Can not parse stateChanged message with prop ".concat(e.prop));break}return r}return!1}))})),e.on("group_devicesWithOtherStateChanged",(function(e){console.log("Event: group_devicesWithOtherStateChanged",e),t.$dataStore.groups.filter((function(t){if(t.id===e.id){var r=t;switch(e.prop){case"engineStateDevicesWithOtherState":r.engineStateDevicesWithOtherState=e.newValue;break;case"eventModeDevicesWithOtherState":r.eventModeDevicesWithOtherState=e.newValue;break;case"engineLevelDevicesWithOtherState":r.engineLevelDevicesWithOtherState=e.newValue;break;default:console.log("Can not parse stateChanged message with prop ".concat(e.prop));break}return r}return!1}))})),r.prev=19,r.next=22,t.fetchDataFromServer();case 22:t.socket=t.$dataStore.user.userrole.rules.canChangeProperties.allowed?e:null,r.next=29;break;case 25:r.prev=25,r.t0=r["catch"](19),console.error("error in backend",r.t0),s["a"].$toast.open({type:"error",message:"Server Error: ".concat(r.t0.message),duration:5e3});case 29:case"end":return r.stop()}}),r,null,[[19,25]])})))()},methods:{fetchDataFromServer:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch("/api/devices").then((function(e){if(500===e.status)throw new Error("Database not connected or database error");return e.json()})).then((function(t){e.$dataStore.devices=t}));case 2:return t.next=4,fetch("/api/groups").then((function(e){if(500===e.status)throw new Error("Database not connected or database error");return e.json()})).then((function(t){e.$dataStore.groups=t}));case 4:case"end":return t.stop()}}),t)})))()},getUser:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("/api/user?username=".concat(e.$dataStore.user.username));case 3:if(r=t.sent,200===r.status){t.next=6;break}throw new Error(r.msg);case 6:return t.abrupt("return",r.json());case 9:t.prev=9,t.t0=t["catch"](0),console.error(t.t0);case 12:return t.abrupt("return",[]);case 13:case"end":return t.stop()}}),t,null,[[0,9]])})))()},getUsers:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("/api/users?user=".concat(e.$dataStore.user.username));case 3:if(r=t.sent,404!==r.status){t.next=6;break}throw new Error("No data avalaible");case 6:return e.errorMessage="",t.abrupt("return",r.json());case 10:t.prev=10,t.t0=t["catch"](0),console.error(t.t0);case 13:return t.abrupt("return",[]);case 14:case"end":return t.stop()}}),t,null,[[0,10]])})))()},getUserroles:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("/api/userroles?user=".concat(e.$dataStore.user.username));case 3:if(r=t.sent,201===r.status){t.next=6;break}throw new Error(r.body);case 6:return e.errorMessage="",t.abrupt("return",r.json());case 10:t.prev=10,t.t0=t["catch"](0),console.error(t.t0);case 13:return t.abrupt("return",[]);case 14:case"end":return t.stop()}}),t,null,[[0,10]])})))()},getUserroleRights:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("/api/userrolerights?user=".concat(e.$dataStore.user.username));case 3:if(r=t.sent,404!==r.status){t.next=6;break}throw new Error("No data avalaible");case 6:return e.errorMessage="",t.abrupt("return",r.json());case 10:t.prev=10,t.t0=t["catch"](0),console.error(t.t0);case 13:return t.abrupt("return",[]);case 14:case"end":return t.stop()}}),t,null,[[0,10]])})))()}}}).$mount("#app")})).catch((function(e){console.error(e)}))},"793c":function(e,t,r){"use strict";r("d5e3")},"7eec":function(e,t,r){"use strict";r("5b8b")},9170:function(e,t,r){},a604:function(e,t,r){"use strict";r("08ec")},a79d2:function(e,t,r){},b67a:function(e,t,r){"use strict";r("d84a")},c32d:function(e,t){if("undefined"===typeof moment){var r=new Error("Cannot find module 'moment'");throw r.code="MODULE_NOT_FOUND",r}e.exports=moment},c9ef:function(e,t,r){"use strict";r("4a9d")},d270:function(e,t,r){"use strict";r("3e19")},d5e3:function(e,t,r){},d84a:function(e,t,r){},eb11:function(e,t,r){"use strict";r("a79d2")},f080:function(e,t,r){}});
//# sourceMappingURL=managment.69399f16.js.map